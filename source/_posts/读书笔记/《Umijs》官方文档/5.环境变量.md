---
title: 《Umijs》五、环境变量
date: 2020-04-07 17:21:00
tags:
  - Umijs
  - hide
categories:
  - 读书笔记
  - Umijs
---
Umi 约定根目录下的 `.env` 为环境变量配置文件。

<!-- More -->

### 环境变量列表

```props
PORT=8888
COMPRESS=none
```

#### APP_ROOT

指定项目根目录（只能在命令行中添加）。

#### ANALYZE

用于分析 bundle 构成，默认关闭。

#### BABEL_POLYFILL

默认根据 targets 配置打目标浏览器的全量补丁。`none`禁用内置的补丁方案。

#### COMPRESS

默认压缩 css 和 js，`none` 不压缩，build 时有效。

#### FORK_TS_CHECKER

默认不开启 TypeScript 类型检车。`1` 开启。

#### HMR

代码热更新功能，`none`关闭。

#### HOST

默认为 0.0.0.0。

#### HTML

`none` 时不输出 HTML，`umi build`时有效。

#### PORT

指定端口号，默认 `8080`。

#### PROGRESS

`none` 禁用进度条。

#### SOCKET_SERVER

指定 HMR 的 socket 服务器。

#### UMI_ENV

指定不同环境各自的配置文件。

#### WATCH

`none` 不监听文件变更。

#### WATCH_IGNORED

默认不监听 node_modules 下的文件修改。
