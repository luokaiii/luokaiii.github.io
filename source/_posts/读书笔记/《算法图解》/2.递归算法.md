---
title: 《算法图解》第二章 递归算法
date: 2019-09-25 10:26:40
tags: 
  - MySQL
  - 数据库
categories:
  - 高性能MySQL
visible: hide
---
```java
/**
 * 递归测试
 */
public class Recursion {

    public static void main(String[] args) {
        int[] arr = new int[100];
        for (int i = 0; i < arr.length; i++) {
            arr[i] = RandomUtils.nextInt(0, 10);
        }

        long l1 = System.currentTimeMillis();
        System.out.println(forEach(arr));
        System.out.println(System.currentTimeMillis() - l1);

        long l2 = System.currentTimeMillis();
        System.out.println(sum(arr, arr.length - 1));
        System.out.println(System.currentTimeMillis() - l2);

        long l3 = System.currentTimeMillis();
        System.out.println(sum2(arr, 0, arr.length - 1));
        System.out.println(System.currentTimeMillis() - l3);
    }

    /**
     * for循环
     *
     * @param arr 需循环的数组
     * @return 结果和
     */
    private static int forEach(int[] arr) {
        int sum = 0;
        for (int i : arr) {
            sum += i;
        }
        return sum;
    }

    /**
     * 线性递归
     *
     * @param arr   需递归的数组
     * @param value 当前递归的下标
     * @return 结果和
     */
    private static int sum(int[] arr, int value) {
        if (value == 0) {
            return arr[value];
        } else {
            return arr[value] + sum(arr, value - 1);
        }
    }

    /**
     * 二分递归
     *
     * @param arr  需递归的数组
     * @param low  低值下标
     * @param high 高值下标
     * @return 结果和
     */
    private static int sum2(int[] arr, int low, int high) {
        if (low == high) {
            return arr[low];
        } else {
            int middle = (low + high) >> 1;
            return sum2(arr, low, middle) + sum2(arr, middle + 1, high);
        }
    }
}
```

