---
title: RabbitMQ主题消息
date: 2019-12-09 18:00:00
tags: RabbitMQ
visible: hide
---

# 五、Topics 主题

Topics：基于主题（pattern）接收消息。

在上一个 **Routing 路由** 案例中，我们改进了日志系统，使其不再只能使用扇形交换广播给所有订阅者，而是使用直接广播，有选择地接收日志。

但它仍然具有局限性，不能基于多个标准进行路由：除了日志级别分开记录外，我们还希望能够根据日志来源来路由日志。

## 一、Topic Exchange 主题交换器

发送到主题交换器的消息不能有任意的 RoutingKey，它必须是由点分隔的单词列表。如：stock.usd.nyse、nyse.vmw、quick.orange.rabbit。RoutingKey 不能超过 255 个字节。

RoutingKey 的逻辑：

- \*：代表一个单词
- #：表示零个或多个单词

## 二、示例

示例以：[速度，颜色，物种]为组合的路由键（RoutingKey）。

![Topic 主题路由](https://i.loli.net/2019/12/09/mWbEMuagq3OGsBX.png)

分别创建三个绑定：\*.organge.\*，\*.\*.rabbit，lazy.\*。

