```java
package com.pgc.common;

/**
 * 字符串中的第一个唯一字符
 * <p>
 * 给定一个字符串，找到它的第一个不重复的字符，并返回它的索引。如果不存在，则返回 -1。
 *
 * 案例:
 *
 * s = "leetcode"
 * 返回 0.
 *
 * s = "loveleetcode",
 * 返回 2.
 *
 *
 * 注意事项：您可以假定该字符串只包含小写字母。
 */
public class Solution {

    public static void main(String[] args) {
        String s = "loveleetcode";
        System.out.println(firstUniqChar2(s));
    }

    /**
     * 解题思路：
     *  遍历字符串转换的字符数组，判断第一次查找和最后一次查找的索引是否相同，相同返回下标
     * 缺点：
     *  s.toCharArray()、以及 chars[i] 耗费了较多查找和转换的时间。本例执行时长 37ms
     */
    private static int firstUniqChar(String s) {
        char[] chars = s.toCharArray();
        for (int i = 0; i < chars.length; i++) {
            int n = s.indexOf(chars[i]);
            if(n != -1 && n == s.lastIndexOf(chars[i]))
                return i;
        }
        return -1;
    }

    /**
     * 优化
     */
    private static int firstUniqChar2(String s){
        int res = -1;
        // i++ 改变的是i的ascII值
        for (char i = 'a'; i <= 'z'; i++) {
            int n = s.indexOf(i);
            if(n != -1 && n == s.lastIndexOf(i))
                res = (res == -1 || res > n) ? n : res; // 这一步是为了取最小下标
        }
        return res;
    }
}

```

