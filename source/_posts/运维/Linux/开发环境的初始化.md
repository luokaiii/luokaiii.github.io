---
title: Linux开发环境初始化
date: 2018-09-08 14:46:03
tags:
  - Linux
  - hide
categories:
  - Linux
---

# 在 Linux 环境下初始化 Java 开发环境(Ubuntu16.0)

## 一、安装 JDK

```java
安装 OpenJdk ：
sudo apt-get update     //更新软件包列表
sudo apt-get install openjdk-8-jdk      //安装openjdk-8-jdk
java -version       //查看 java 版本
```

安装完后的 jdk 和 jre 放在"/usr/lib/jvm/java-8..."

## 二、安装 Tomcat

1. 到官网下载最新的 tomcat：使用 wget 命令下载
   ```js
   http://mirror.bit.edu.cn/apache/tomcat/tomcat-8/v8.5.31/bin/apache-tomcat-8.5.31.tar.gz
   ```
2. 解压 tomcat：
   1. tar -zxvf apache-tomcat-8...
   2. 注意：下载的压缩文件格式，对应着不同的解压缩命令
3. 配置 tomcat：

   1. 将解压后的文件夹修改文件夹 apache-tomcat... 为 tomcat:
      ```js
      mv apache-tomcat... tomcat  //mv命令可以进行移动也可以进行文件名的修改
      ```
   2. 将 tomcat 目录 复制到指定目录：
      ```js
      sudo cp -r tomcat /opt
      ```
   3. 进入 tomcat 目录：
      ```js
      cd / opt / tomcat;
      ```
   4. 打开启动的脚本文件
      ```js
      sudo vi ./bin/startup.sh
      ```
   5. 添加 jdk 和 jre 变量

      ```js
      JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
      JRE_HOME=/usr/lib/jvm/java-8-openjdk-amd64/jre
      CLASS_PATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar:$JRE_HOME/lib
      PATH=$JAVA_HOME/bin:$JRE_HOME/bin:$PATH
      TOMCAT_HOME=/opt/apache-tomcat-8.5.32
      ```

      注意：这里的目录以真实存在的为主

4. 启动，测试:
   1. 开启 tomcat : `sudo ./bin/startup.sh`
   2. 进入浏览器，查看 tomcat 是否配置和安装成功
   3. 关闭 tomcat : `sudo ./bin/shutdown.sh`

## 三、安装 Git

    sudo apt-get install git-core
    除安装之外，其他命令同 Windows 下。

## 四、安装 MySQL 服务

1.  安装 mysql
    ```shell
    sudo apt-get install mysql-server
    sudo apt install mysql-client
    sudo apt install libmysqlclient-dev
    ```
2.  测试是否安装成功

    ```shell
    sudo netstat -tap | grep mysql
    ```

    安装成功之后，显示下图：

    ![安装成功后显示的图片](http://static.zybuluo.com/xiangwanpeng/p81fqgz0k1782qpwbrtnhmce/image_1b6gfob7m1u4f2i0av11afd92m9.png)

3.  测试 进入 mysql 服务
    ```shell
    mysql -uroot -p
    ```
4.  设置 mysql 允许远程访问

    ```shell
    sudo vi /etc/mysql/mysql.conf.d/mysqld.cnf
    ```

    ![shell图](http://static.zybuluo.com/xiangwanpeng/sl82tvc6dyqod7j2cnw4qi5b/image_1b6ggmf7h1d6b17o11iha1j1nhtem.png)

        将其中的 bind-address = 127.0.0.1 注释掉
        :wq 保存退出

5.  进入 mysql 服务，执行授权命令：
    ```shell
    grant all on *.* to root@'%' identified by '密码' with grant option;
    flush privileges;
    ```
6.  退出并重启 mysql 服务
    ```shell
    service mysql restart
    ```
7.  远程连接测试

## 四-2、卸载 MySQL 服务

1. 查看 mysql 安装了哪些依赖
   ```js
   dpkg --list | grep mysql
   ```
2. 卸载 mysql-common 包
   ```js
   sudo apt-get remove mysql-common
   ```
3. 具体看版本
   ```js
   sudo apt-get autoremove --purge mysql-server-5.0
   ```
4. 再次查看 ，同 1
5. 清除残留数据：
   ```js
   dpkg -l |grep ^rc|awk '{print $2}' |sudo xargs dpkg -P
   ```

## 五、安装 MongoDB

### 1. 安装 MongoDB

1. 导入软件源的公钥
   ```js
   sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv EA312927
   ```
2. 为 mongodb 创建软件源 list 文件
   ```js
   echo "deb http://repo.mongodb.org/apt/ubuntu xenial/mongodb-org/3.2 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-3.2.list
   ```
3. 更新本地包数据库
   ```js
   sudo apt-get update
   ```
4. 安装 MongoDB 包
   ```js
   sudo apt-get install -y mongodb-org
   ```
5. 配置启动文件

   1. 打开或者创建 `/lib/systemd/system/mongod.service`
   2. 加入以下配置：

   ```js
   [Unit]
   Description=High-performance, schema-free document-oriented database
   After=network.target
   Documentation=https://docs.mongodb.org/manual

   [Service]
   User=mongodb
   Group=mongodb
   ExecStart=/usr/bin/mongod --quiet --config /etc/mongod.conf

   [Install]
   WantedBy=multi-user.target
   ```

6. 启动停止
   ```js
   sudo service mongod start
   sudo service mongod stop
   sudo service mongod restart
   ```
7. 卸载 mongodb
   ```js
   sudo service mongod stop        // 停止mongodb
   sudo apt-get purge mongodb-org* // 卸载软件
   sudo rm -r /var/log/mongodb     // 删除日志文件和数据库
   sudo rm -r /var/lib/mongodb
   ```

### 3. 配置 MongoDB

1.  进入 MongoDB
    ```js
    mongo;
    ```
2.  切换到 admin 数据库
    ```js
    use admin
    ```
3.  创建一个管理员用户
    ```js
    db.createUser({
      user: "admin",
      pwd: "123456",
      roles: [{ role: "userAdminAnyDatabase", db: "admin" }]
    });
    ```
4.  打开登录认证
    ```js
    security: authorization: enabled;
    ```
    启用登录后，需要使用 db.auth('admin','123456')认证后，才能操作
5.  启用远程连接

    打开 `/etc/mongd.conf` 找到 `bindIp`，注释掉；
    或者将`bindIp` 换成 `0.0.0.0`

    ---------------------2018 年 9 月 10 日更新------- 1.导入软件源的公钥
    sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv EA312927 2.为 mongodb 创建软件源 list 文件
    echo "deb http://repo.mongodb.org/apt/ubuntu xenial/mongodb-org/3.2 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-3.2.list 3.更新软件源，安装 mongodb
    sudo apt-get update
    sudo apt-get install -y mongodb-org 4.配置启动文件
    打开或者创建 /lib/systemd/system/mongod.service
    加入以下配置：
    [Unit]
    Description=High-performance, schema-free document-oriented database
    After=network.target
    Documentation=https://docs.mongodb.org/manual

        [Service]
        User=mongodb
        Group=mongodb
        ExecStart=/usr/bin/mongod --quiet --config /etc/mongod.conf

        [Install]
        WantedBy=multi-user.target

    5.启动停止
    sudo service mongod start
    sudo service mongod stop
    sudo service mongod restart 6.卸载 mongodb
    sudo service mongod stop // 停止 mongodb
    sudo apt-get purge mongodb-org\* // 卸载软件
    sudo rm -r /var/log/mongodb // 删除日志文件和数据库
    sudo rm -r /var/lib/mongodb

> https://www.chengxulvtu.com/2017/07/16/install-mongodb-on-ubuntu-16-04.html
