---
title: Win10家庭版安装Docker
date: 2020-12-04 09:00:00
categories:
  - docker
hidden: true
tags: 
  - docker
---

Docker 默认只支持专业版和企业版用户，因此需要通过修改注册表来使 Docker 跳过验证。

<!-- More -->
### 一、开启 Hyper-V

新建 .cmd 文件，复制进以下代码

```sh
pushd "%~dp0"

dir /b %SystemRoot%\servicing\Packages\*Hyper-V*.mum >hyper-v.txt

for /f %%i in ('findstr /i . hyper-v.txt 2^>nul') do dism /online /norestart /add-package:"%SystemRoot%\servicing\Packages\%%i"

del hyper-v.txt

Dism /online /enable-feature /featurename:Microsoft-Hyper-V-All /LimitAccess /ALL
```

通过 PowerShell(管理员) 运行该文件，完成后会重启电脑。

### 二、修改注册表

`win + R` 进入 regedit。

定位到 **\\HKEY_LOCAL_MACHINE\\SOFTWARE\Microsoft\Windows NT\\CurrentVersion**，将 Edition ID 改为 Professional。

> 注：有时这个参数会被改回去，到时还需要再执行一遍2。

### 三、测试

运行 `docker run hello-world`。