---
title: Docker 日志查询
date: 2020-12-02 09:00:00
categories:
  - docker
top: true
tags: 
  - docker
---
#### 1. 显示所有日志

```sh
# 显示容器的所有日志
$ docker logs [OPTIONS] <CONTAINER>

# 显示 docker-compose 的所有容器的日志
$ docker-compose logs
```

<!-- More -->

#### 2. 实时显示日志

```sh
# 与 `tail -f filename` 效果类似
$ docker logs -f <CONTAINER>
```

#### 3. 查看尾部日志

```sh
# 与 `tail -n 20 filename` 效果类似
$ docker logs --tail 20 <CONTAINER>
```

#### 4. 过滤日志

```sh
$ docker logs | grep error
```

#### 5. 日期过滤

使用 `--since` 指定开始时间点，使用 `--until` 指定结束时间点

```sh
$ docker logs --since 2020-09-22T12:01:01 <CONTAINER>

$ docker logs --sice 2020-09-22 --until 2020-12-22
```

#### 6. 组合使用

```sh
$ docker logs --tail 10 <CONTAINER> | grep info

$ docker logs -f --since 2020-12-09 --tail=10 <CONTAINER>
```

#### 7. 写入文件

```sh
$ docker logs -t <CONTAINER> | grep error >> logs_error.txt
```

