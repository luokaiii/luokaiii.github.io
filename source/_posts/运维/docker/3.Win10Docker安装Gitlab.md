---
title: Win10 Docker 安装 Gitlab
date: 2020-12-04 09:00:00
categories:
  - win10工具
hide: true
---
Docker for Windows 不受 Gitlab 官方支持。在挂在卷时可能会出现问题。因此，需要通过 create volume 来解决这个问题。

<!-- More -->

### 一、新建数据卷

```sh
# 新建一个持久化配置的目录
$ mkdir D:\xxx\config

# 新建一个用于持久化日志的数据卷
$ docker volume create gitlab-logs

# 新建一个用于持久化数据的数据卷
$ docker volume create gitlab-data
```

### 二、启动挂载

```sh
$ docker run --detach \
	--name gitlab \
	--restart always \
	--hostname localhost \
	--publish 10443:443 \
	--publish 10080:80 \ 
	--publish 10022:22 \
	--volume gitlab-logs:/var/log/gitlab \
	--volume gitlab-data:/var/opt/gitlab \
	gitlab/gitlab-ce
```

### 三、访问测试

访问 http://127.0.0.1:10080。