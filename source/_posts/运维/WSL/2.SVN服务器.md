---
title: Ubuntu20.04 搭建SVN服务器
date: 2020-12-02 09:00:00
categories:
  - wsl
hide: true
tags: 
  - wsl
---
## 在 Ubuntu20.04 搭建 SVN 服务器

<!-- More -->
### 一、安装 SVN

```sh
# 安装
$ sudo apt install subversion

# 查看版本
$ svnserve --version
svnserve, version 1.13.0 (r1867053)
```

### 二、创建版本库

```sh
# 创建存储库
$ svnadmin create repository

# 给db文件夹放权，否则可能会无法连接
$ sudo chmod -R 777 db
```

### 三、修改配置

#### 1. conf/svnserve.conf

```properties
# 去掉以下几个注释
anon-access = none  	# 未认证用户无权限
auth-access = write		# 已认证用户为写权限
password-db = passwd	# SVN 用户配置文件
authz-db = authz		# SVN 权限配置文件
```

#### 2. conf/passwd

```properties
# 配置用户，k-v对应着用户名、密码
[users]
admin = admin.pwd
consumer = consumer.pwd
```

#### 3. conf/authz

```properties
[groups]
admin = admin		# 管理员组
normal = consumer	# 普通用户组

[/]				# / 代表所有项目，也可以指定单独的项目，如 [JAVA:/]，表示java项目下的
@admin = rw		# 读写权限
@normal = r		# 只读权限
```

### 四、启动

```sh
# 启动并指定存储库目录
$ sudo svnserve -d -r repository

# 停止服务(方法一)
$ killall svnserve

# 查看svnserve进程(停止服务为方法二，kill进程)
$ ps aux | grep svnserve
```

