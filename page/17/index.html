<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>罗凯的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="如果我16岁，我可以悄悄的说我好喜欢你，如果我26岁，我可以大声告诉你我很爱你，可惜我6岁，我什么都给不了你，我还要上小学。">
<meta name="keywords" content="帅">
<meta property="og:type" content="website">
<meta property="og:title" content="罗凯的博客">
<meta property="og:url" content="http://yoursite.com/page/17/index.html">
<meta property="og:site_name" content="罗凯的博客">
<meta property="og:description" content="如果我16岁，我可以悄悄的说我好喜欢你，如果我26岁，我可以大声告诉你我很爱你，可惜我6岁，我什么都给不了你，我还要上小学。">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="罗凯的博客">
<meta name="twitter:description" content="如果我16岁，我可以悄悄的说我好喜欢你，如果我26岁，我可以大声告诉你我很爱你，可惜我6岁，我什么都给不了你，我还要上小学。">
  
    <link rel="alternate" href="/atom.xml" title="罗凯的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="https://i.loli.net/2019/07/04/5d1db2fb9593c58427.gif">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">罗凯的博客</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">一个大帅哥</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-读书笔记/《高性能MySQL》/5.设计数据库分区表" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/21/读书笔记/《高性能MySQL》/5.设计数据库分区表/" class="article-date">
  <time datetime="2019-06-21T02:26:40.000Z" itemprop="datePublished">2019-06-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/高性能MySQL/">高性能MySQL</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/06/21/读书笔记/《高性能MySQL》/5.设计数据库分区表/">《高性能MySQL》第五章 设计数据库分区表</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="第五章-设计数据库分区表"><a href="#第五章-设计数据库分区表" class="headerlink" title="第五章 设计数据库分区表"></a>第五章 设计数据库分区表</h1><h2 id="一、数据库设计三范式"><a href="#一、数据库设计三范式" class="headerlink" title="一、数据库设计三范式"></a>一、数据库设计三范式</h2><blockquote>
<p>第一范式：数据库表中的字段都是单一属性，不可再分。<br>第二范式：数据库表中不存在非关键字段对任一候选关键字段的部分函数依赖。<br>第三范式：数据表中不能存在非关键字段对任一候选关键字段的传递函数依赖。</p>
</blockquote>
<p>翻译过来即：</p>
<blockquote>
<p>第一范式：表必须有主键，且每个字段原子性不可再分。<br>第二范式：要求所有非主键字段完全依赖主键，不能产生部分依赖<br>第三范式：所有非主键字段和主键字段之间不能产生传递依赖</p>
</blockquote>
<h2 id="二、MySQL-分区表"><a href="#二、MySQL-分区表" class="headerlink" title="二、MySQL 分区表"></a>二、MySQL 分区表</h2><h3 id="1-检查-MySQL-是否支持-分区功能"><a href="#1-检查-MySQL-是否支持-分区功能" class="headerlink" title="1. 检查 MySQL 是否支持 分区功能"></a>1. 检查 MySQL 是否支持 分区功能</h3><blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; -- 查看MySQL 中的所有插件，如果存在 Name=partition；Status=ACTIVE，则表示支持分区功能</span><br><span class="line">&gt; SHOW PLUGINS;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>分区表的特点：在逻辑上为一个表，在物理上存储在多个文件中。</p>
</blockquote>
<h3 id="2-分区表的使用方法"><a href="#2-分区表的使用方法" class="headerlink" title="2. 分区表的使用方法"></a>2. 分区表的使用方法</h3><blockquote>
<p>注：PARTITION BY 必须是主键HASH之后，而不能是其它属性。</p>
<p>在插入和查询时，与正常使用一致。</p>
<h3 id="3-分区的几种方式"><a href="#3-分区的几种方式" class="headerlink" title="3. 分区的几种方式"></a>3. 分区的几种方式</h3></blockquote>
<h4 id="1-HASH-分区"><a href="#1-HASH-分区" class="headerlink" title="1. HASH 分区"></a>1. HASH 分区</h4><ol>
<li>根据 MOD(分区键、分区数) 的值把数据行存储到表的不同分区中</li>
<li>数据可以平均的分布在各个分区中</li>
<li>HASH 分区的键值必须是一个 INT 类型的值，或是通过函数可以转为 INT 类型<ol>
<li>如果属性为整型，则可以 eg: PARTITION BY HASH(customer_id)</li>
<li>如果属性为日期，则转换为整型后进行HASH：eg: PARTITION BY HASH(UNIX_TIMESTAMP(login_time))</li>
</ol>
</li>
</ol>
<p>eg: 对用户登录日志表进行分区，分区规则为 customer_id 的 hash 值，并分为4个区</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> customer_login_log(</span><br><span class="line"> customer_id <span class="built_in">INT</span> <span class="keyword">UNSIGNED</span> <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'登录用户ID'</span>,</span><br><span class="line"> login_time <span class="keyword">TIMESTAMP</span> <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'用户登录时间'</span>,</span><br><span class="line"> login_ip <span class="built_in">INT</span> <span class="keyword">UNSIGNED</span> <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'登录IP'</span>,</span><br><span class="line"> login_type TINYINT <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'登录类型：0 未成功，1 成功'</span></span><br><span class="line">) <span class="keyword">engine</span> = <span class="keyword">innodb</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8 <span class="keyword">COMMENT</span> <span class="string">'用户登录日志表'</span></span><br><span class="line"><span class="keyword">PARTITION</span> <span class="keyword">BY</span> <span class="keyword">HASH</span>(customer_id)</span><br><span class="line"><span class="keyword">PARTITIONS</span> <span class="number">4</span>;</span><br></pre></td></tr></table></figure>
<p>创建 HASH 分区表时可以使用到的函数</p>
<table>
<thead>
<tr>
<th>ABS()</th>
<th>CEILING()</th>
<th>DAY()</th>
</tr>
</thead>
<tbody>
<tr>
<td>DAYOFMONTH()</td>
<td>DAYOFWEEK()</td>
<td>DAYOFYEAR()</td>
</tr>
<tr>
<td>DATEDIFF()</td>
<td>EXTRACT()</td>
<td>FLOOR()</td>
</tr>
<tr>
<td>HOUR()</td>
<td>MICROSECOND()</td>
<td>MINUTE()</td>
</tr>
<tr>
<td>MOD()</td>
<td>MONTH()</td>
<td>QUARTER()</td>
</tr>
<tr>
<td>SECOND()</td>
<td>TIME_TO_SEC()</td>
<td>TO_DAYS()</td>
</tr>
<tr>
<td>TO_SECONDS()</td>
<td>UNIX_TIMESTAMP()</td>
<td>WEEKDAY()</td>
</tr>
<tr>
<td>YEAR()</td>
<td></td>
<td>YEARWEEK()</td>
</tr>
</tbody>
</table>
<h4 id="2-RANGE-分区"><a href="#2-RANGE-分区" class="headerlink" title="2. RANGE 分区"></a>2. RANGE 分区</h4><h5 id="按照范围分区，特点："><a href="#按照范围分区，特点：" class="headerlink" title="按照范围分区，特点："></a>按照范围分区，特点：</h5><ol>
<li>根据分区键值的范围把数据行存储到表的不同分区中</li>
<li>多个分区的范围要连续，但是不能重叠</li>
<li>默认情况下使用 VALUES LESS THAN 属性，即每个分区不包含指定的那个值</li>
</ol>
<p>eg: 对用户id 进行分区，p0分区为 0~9999，依次类推，p3分区为 3000~max</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE customer_login_log(</span><br><span class="line"> customer_id INT UNSIGNED NOT NULL COMMENT &apos;登录用户ID&apos;,</span><br><span class="line"> login_time TIMESTAMP NOT NULL COMMENT &apos;用户登录时间&apos;,</span><br><span class="line"> login_ip INT UNSIGNED NOT NULL COMMENT &apos;登录IP&apos;,</span><br><span class="line"> login_type TINYINT NOT NULL COMMENT &apos;登录类型：0 未成功，1 成功&apos;</span><br><span class="line">) engine = innodb DEFAULT CHARSET=utf8 COMMENT &apos;用户登录日志表&apos;</span><br><span class="line">PARTITION BY RANGE (customer_id) (</span><br><span class="line">	PARTITION p0 VALUES LESS THAN (10000),</span><br><span class="line">    PARTITION p1 VALUES LESS THAN (20000),</span><br><span class="line">    PARTITION p2 VALUES LESS THAN (30000),</span><br><span class="line">    PARTITION p3 VALUES LESS THAN MAXVALUE</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h5 id="RANGE-分区的适用场景："><a href="#RANGE-分区的适用场景：" class="headerlink" title="RANGE 分区的适用场景："></a>RANGE 分区的适用场景：</h5><ol>
<li>分区键为日期或是时间类型<ol>
<li>时间归档</li>
</ol>
</li>
<li>所有查询中都包括分区键</li>
<li>定期按分区范围清理数据</li>
</ol>
<h4 id="3-List-分区"><a href="#3-List-分区" class="headerlink" title="3. List 分区"></a>3. List 分区</h4><h5 id="List-分区的特点："><a href="#List-分区的特点：" class="headerlink" title="List 分区的特点："></a>List 分区的特点：</h5><ol>
<li>按分区键取值的列表进行分区</li>
<li>同范围分区一样，各分区的列表值不能重复</li>
<li>每一行数据必须能找到对应的分区列表，否则数据插入失败</li>
</ol>
<h5 id="如何建立-LIST-分区："><a href="#如何建立-LIST-分区：" class="headerlink" title="如何建立 LIST 分区："></a>如何建立 LIST 分区：</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE customer_login_log(</span><br><span class="line"> customer_id INT UNSIGNED NOT NULL COMMENT &apos;登录用户ID&apos;,</span><br><span class="line"> login_time TIMESTAMP NOT NULL COMMENT &apos;用户登录时间&apos;,</span><br><span class="line"> login_ip INT UNSIGNED NOT NULL COMMENT &apos;登录IP&apos;,</span><br><span class="line"> login_type TINYINT NOT NULL COMMENT &apos;登录类型：0 未成功，1 成功&apos;</span><br><span class="line">) engine = innodb DEFAULT CHARSET=utf8 COMMENT &apos;用户登录日志表&apos;</span><br><span class="line">PARTITION BY LIST (login_type) (</span><br><span class="line">  PARTITION p0 VALUES IN (1,3,5,7),</span><br><span class="line">  PARTITION p1 VALUES IN (2,4,6,8)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h3 id="4-分区表的常见操作"><a href="#4-分区表的常见操作" class="headerlink" title="4. 分区表的常见操作"></a>4. 分区表的常见操作</h3><ol>
<li><p>查询分区信息表</p>
<ol>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">SELECT </span><br><span class="line"> table_name,</span><br><span class="line"> partition_name,</span><br><span class="line"> partition_description,</span><br><span class="line"> table_rows</span><br><span class="line">FROM </span><br><span class="line"> information_schema.`PARTITIONS`</span><br><span class="line">WHERE table_name = &apos;customer_login_log&apos;;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>新增分区</p>
<ol>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE customer_login_log ADD PARTITION (PARTITION p3 VALUES LESS THAN (UNIX_TIMESTAMP(&apos;2021-01-01 00:00:00&apos;)))</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>删除分区及其中的数据</p>
<ol>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE customer_login_log DROP PARTITION p0;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>分区数据归档迁移：</p>
<ol>
<li><p>条件：</p>
<ol>
<li>MySQL &gt;= 5.7</li>
<li>结构相同</li>
<li>归档到的数据表一定要是非分区表</li>
<li>非临时表；不能有外键约束</li>
<li>归档引擎要是：archive<ol>
<li>无法从该表中删除数据，仅能添加数据</li>
<li>占用的空间更小</li>
</ol>
</li>
</ol>
</li>
<li><p>创建数据归档表，用于存储用户登录日志的归档数据</p>
<ol>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE arch_customer_login_log(</span><br><span class="line"> customer_id INT UNSIGNED NOT NULL COMMENT &apos;登录用户ID&apos;,</span><br><span class="line"> login_time TIMESTAMP NOT NULL COMMENT &apos;用户登录时间&apos;,</span><br><span class="line"> login_ip INT UNSIGNED NOT NULL COMMENT &apos;登录IP&apos;,</span><br><span class="line"> login_type TINYINT NOT NULL COMMENT &apos;登录类型：0 未成功，1 成功&apos;</span><br><span class="line">) ENGINE = ARCHIVE COMMENT &apos;用户登录日志表归档&apos;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>将 p1 分区(2018年用户的登录日志) 迁移到归档表中</p>
<ol>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE customer_login_log </span><br><span class="line">EXCHANGE PARTITION p1 </span><br><span class="line">WITH TABLE arch_customer_login_log;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>此时再查看 customer_login_log，已不存在 p1 分区中的数据了，全部转移到了 arch_customer_login_log 中。</p>
</li>
<li><p>迁移完成，删除 customer_login_log 中的 p1 分区</p>
<ol>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE customer_login_log DROP PARTITION p1;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/06/21/读书笔记/《高性能MySQL》/5.设计数据库分区表/" data-id="cjxpj03bm00burgtwiq7bgzoi" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MySQL/">MySQL</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/数据库/">数据库</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-读书笔记/《高性能MySQL》/4.数据库操作行为规范" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/20/读书笔记/《高性能MySQL》/4.数据库操作行为规范/" class="article-date">
  <time datetime="2019-06-20T08:22:03.000Z" itemprop="datePublished">2019-06-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/高性能MySQL/">高性能MySQL</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/06/20/读书笔记/《高性能MySQL》/4.数据库操作行为规范/">《高性能MySQL》第一章 数据库设计规范</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="第四章-数据库操作行为规范"><a href="#第四章-数据库操作行为规范" class="headerlink" title="第四章 数据库操作行为规范"></a>第四章 数据库操作行为规范</h1><ol>
<li><p>超过 100W 行的批量写操作，要分批多次进行操作</p>
<ol>
<li>大批量的操作可能会造成严重的主从延迟</li>
<li>binlog日志为 row 格式时会产生大量日志</li>
<li>避免产生大事务操作<ol>
<li>大的事务会导致数据库的阻塞时间过长</li>
</ol>
</li>
</ol>
</li>
<li><p>对于大表使用 pt-online-schema-change 修改表结构</p>
<ol>
<li>避免大表修改产生的主从延迟</li>
<li>避免对表修改时，产生的表锁问题</li>
<li>pt-online-schema-change 修改表结构时的流程<ol>
<li>建立一个和源表结构相同的新表</li>
<li>在新表上进行表结构修改</li>
<li>创建触发器，将源表的数据操作复制到新表中</li>
<li>表复制完成后，将新表重命名为源表名，并删除源表</li>
<li>以此来完成表结构的修改，而不产生对源表的加锁操作</li>
</ol>
</li>
</ol>
</li>
<li><p>禁止为程序使用的账号赋予 super 权限</p>
<ol>
<li>当数据库连接达到最大限制时，还允许 1 个super权限的用户连接<ol>
<li>如果滥用 super 权限的话，会导致 DBA 无法登陆数据库检查问题</li>
</ol>
</li>
<li>super 权限只能留给 DBA 处理问题的账号使用</li>
</ol>
</li>
<li><p>对于程序连接数据库账号，遵循权限注销原则</p>
<ol>
<li>程序使用数据库账号只能在一个 DB 下使用，不准跨库</li>
<li>程序使用的账号原则上不准有 drop 权限</li>
</ol>
</li>
<li><p>向DB 中插入 100W 条数据</p>
<ol>
<li><p>如果每次只插入一条数据，则会增加和数据库的交互次数</p>
</li>
<li><p>如果批量插入，虽然只有一次交互，但是会产生非常大的事务，可能造成内存溢出</p>
</li>
<li><p>分段批量插入</p>
<ol>
<li><p>JDBC 连接 URL 需要加上 <code>allowMultiQueries=true</code> 参数</p>
</li>
<li><p>example by Mybatis Batch:</p>
</li>
<li><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Java 代码</span></span><br><span class="line">pst.addBatch();</span><br><span class="line"><span class="keyword">if</span>(i &gt; <span class="number">0</span> &amp;&amp; i%<span class="number">1000</span> == <span class="number">0</span>)&#123;</span><br><span class="line">    pst.executeBatch();</span><br><span class="line">    pst.clearBatch();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- MyBatis SQL --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">"insertbatch"</span> <span class="attr">parameterType</span>=<span class="string">"java.util.List"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">selectKey</span> <span class="attr">keyProperty</span>=<span class="string">"fetchTime"</span> <span class="attr">order</span>=<span class="string">"BEFORE"</span> <span class="attr">resultType</span>=<span class="string">"java.lang.String"</span>&gt;</span></span><br><span class="line">    	insert into tb_user (username,password)</span><br><span class="line">        values</span><br><span class="line">        <span class="tag">&lt;<span class="name">foreach</span> <span class="attr">collection</span>=<span class="string">"list"</span> <span class="attr">item</span>=<span class="string">"item"</span> <span class="attr">index</span>=<span class="string">"index"</span> <span class="attr">separator</span>=<span class="string">","</span>&gt;</span></span><br><span class="line">        	(</span><br><span class="line">            	#&#123;item.username&#125;,#&#123;item.password&#125;</span><br><span class="line">            )</span><br><span class="line">        <span class="tag">&lt;/<span class="name">foreach</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">selectKey</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/06/20/读书笔记/《高性能MySQL》/4.数据库操作行为规范/" data-id="cjxpj03bw00c2rgtwo259eoto" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MySQL/">MySQL</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/数据库/">数据库</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-读书笔记/《高性能MySQL》/3.数据库SQL开发规范" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/20/读书笔记/《高性能MySQL》/3.数据库SQL开发规范/" class="article-date">
  <time datetime="2019-06-20T06:03:30.000Z" itemprop="datePublished">2019-06-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/高性能MySQL/">高性能MySQL</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/06/20/读书笔记/《高性能MySQL》/3.数据库SQL开发规范/">《高性能MySQL》第一章 数据库设计规范</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="第三章-数据库-SQL-开发规范"><a href="#第三章-数据库-SQL-开发规范" class="headerlink" title="第三章 数据库 SQL 开发规范"></a>第三章 数据库 SQL 开发规范</h1><ol>
<li>建议使用预编译语句进行数据库操作<ol>
<li>预编译语句可以重复使用执行计划</li>
<li>可以有效避免动态 SQL 带来的 SQL 注入问题</li>
<li>只传参数，比传递 SQL 语句更高效</li>
<li>相同语句可以一次解析，多次使用，提高处理效率</li>
</ol>
</li>
<li>避免数据类型的隐式转换<ol>
<li>隐式转换会导致索引失效</li>
<li>eg: select name,phone from customer where id = ‘111’</li>
</ol>
</li>
<li>充分利用表上已经存在的索引<ol>
<li>避免使用 双% 的查询条件。如 a like ‘%123%’</li>
<li>一个 SQL 只能利用到复合索引中的一列进行范围查询</li>
<li>使用 left join 或 not exists 来优化 not in 操作<ol>
<li>not in 会使索引失效</li>
</ol>
</li>
</ol>
</li>
<li>程序连接不同的数据库使用不同的账号，禁止夸库查询<ol>
<li>为数据库迁移和分库分表留出余地</li>
<li>降低业务耦合度</li>
<li>避免权限过大而产生的安全风险</li>
</ol>
</li>
<li>禁止使用 SELECT * ，必须使用 SELECT &lt;字段列表&gt; 查询<ol>
<li>消耗更多的CPU和IO，以及网络带宽资源</li>
<li>无法使用覆盖索引</li>
<li>可减少表结构变更带来的影响</li>
</ol>
</li>
<li>禁止使用不含字段列表的 INSERT 语句<ol>
<li>eg：insert into tb_xx values(a,b,c) 错误</li>
<li>eg：insert into t(c1,c2,c3) values(a,b,c) 正确</li>
<li>避免因为字段变更，导致的插入失败</li>
</ol>
</li>
<li>避免使用子查询，可以把子查询优化为 join 操作<ol>
<li>子查询的结果集无法使用索引</li>
<li>子查询会产生临时表操作，如果子查询数据量大则严重影响效率</li>
<li>消耗过多的 CPU 及 IO 操作</li>
<li>包含 GROUP BY、ORDER BY 等操作的子查询，无法转换为 JOIN 操作</li>
</ol>
</li>
<li>避免使用 JOIN 关联<code>太多</code>的表<ol>
<li>每 JOIN 一个表会多占用一部分内存</li>
<li>会产生临时表操作，影响查询操作</li>
<li>MySQl 最多允许关联 61 个表，建议不超过 5 个</li>
</ol>
</li>
<li>减少同数据库的交互次数<ol>
<li>数据库更适合处理批量操作</li>
<li>合并多个相同的操作到一起，可以提高处理效率</li>
<li>eg：alter table t1 add column c1 int, change column c2 c2 int</li>
</ol>
</li>
<li>使用 in 代替 or<ol>
<li>in 的值不要超过 500个</li>
<li>in 操作可以有效的利用索引</li>
</ol>
</li>
<li>禁止使用 order by rand() 进行随机排序<ol>
<li>会把表中所有符合条件的数据装载到内存中进行排序</li>
<li>会消耗大量的 CPU 和 IO 及内存资源</li>
<li>推荐在程序中获取一个随机值，然后从数据库中获取数据的方式</li>
</ol>
</li>
<li>where 从句中禁止对列进行函数转换和计算<ol>
<li>对列进行函数转换或计算会导致无法使用索引</li>
<li>eg：where date(createtime) = ‘20160901’<ol>
<li>这样的话，无法使用到 createtime 列上的索引</li>
<li>可以修改为：where createtime &gt;= ‘20160901’ and createtime &lt; ‘20160902’</li>
</ol>
</li>
</ol>
</li>
<li>在明显不会有重复值时使用 UNION ALL 而不是 UNION<ol>
<li>UNION 会把所有数据放到临时表中后再进行去重操作</li>
<li>UNION ALL 不会再对结果集进行去重操作</li>
</ol>
</li>
<li>拆分复杂的大 SQL 为多个小 SQL<ol>
<li>MySQL 一个 SQL 只能使用一个 CPU 进行计算</li>
<li>SQL 拆分后可以通过并行执行来提高处理效率<ol>
<li>拆分 SQL 之后，多个小 SQL 能够更好的利用 CPU 资源</li>
</ol>
</li>
<li>需要拆分的 SQL 为书写复杂，且执行时间长的。避免因 SQL 执行过长导致处理效率缓慢。</li>
</ol>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/06/20/读书笔记/《高性能MySQL》/3.数据库SQL开发规范/" data-id="cjxpj03bk00btrgtwmx8u8zwd" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MySQL/">MySQL</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/数据库/">数据库</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-读书笔记/《高性能MySQL》/2.数据库字段设计规范" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/20/读书笔记/《高性能MySQL》/2.数据库字段设计规范/" class="article-date">
  <time datetime="2019-06-20T03:05:23.000Z" itemprop="datePublished">2019-06-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/高性能MySQL/">高性能MySQL</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/06/20/读书笔记/《高性能MySQL》/2.数据库字段设计规范/">《高性能MySQL》第一章 数据库设计规范</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="第二张-数据库字段设计规范"><a href="#第二张-数据库字段设计规范" class="headerlink" title="第二张 数据库字段设计规范"></a>第二张 数据库字段设计规范</h1><p>字段类型的选择，会直接影响数据库的性能。</p>
<ol>
<li>优先选择符合存储需要的最小的数据类型<ol>
<li>字段的长度越长，导致索引的长度也会越长</li>
<li>将字符串转换为数字类型存储<ol>
<li>INET_ATON(‘255.255.255.255’) = 4294967295</li>
<li>INET_NTOA(4294967295) = ‘255.255.255.255’</li>
</ol>
</li>
<li>对于非负整数的数据，优先使用无符号整型存储<ol>
<li>无符号比有符号的数据多出一倍的存储空间</li>
<li>eg：SIGNED INT -2147483648 ~ 2147483647 ; UNSIGNED INT = 4294967295</li>
</ol>
</li>
<li>VARCHAR(N) 中的N代表的是字符数，而不是字节数</li>
<li>使用 UTF8 存储汉字 Varchar(255) = 765个字节</li>
<li>过大的长度会消耗更多的内存</li>
</ol>
</li>
<li>避免使用 TEXT、BLOB 数据类型<ol>
<li>建议把 BLOB 或是 TEXT 列分离到单独的扩展表中，且不要使用 SELECT * 这样的查询</li>
<li>TEXT 或 BLOB 类型只能使用前缀索引</li>
</ol>
</li>
<li>避免使用 ENUM 数据类型<ol>
<li>修改 ENUM 值需要使用 ALTER 语句</li>
<li>ENUM类型的 ORDER BY 操作效率低，需要额外操作<ol>
<li>ENUM 在进行 ORDER BY 操作时，会将枚举转换为整型进行排序，排序效率低</li>
</ol>
</li>
<li>禁止使用数值作为 ENUM 数据类型</li>
</ol>
</li>
<li>尽可能把所有列定义为 NOT NULL<ol>
<li>索引 NULL 列需要额外的空间来保存<ol>
<li>为 NULL 的列索引，会多出一部分存储空间，用来标识该列是否为空</li>
<li>索引空间占用越少越好</li>
</ol>
</li>
<li>进行比较和计算时对 NULL 值做特别的处理</li>
</ol>
</li>
<li>不建议使用，字符串存储日期型的数据<ol>
<li>缺点一：无法使用日期函数进行计算和比较</li>
<li>缺点二：用字符串存储日期需要占用更多的空间<ol>
<li>使用字符串存储需要占用 16 个字节</li>
<li>而使用日期类型只需要 8 个字节</li>
</ol>
</li>
</ol>
</li>
<li>使用 TIMESTAMP 或 DATETIME 类型存储时间<ol>
<li>TIMESTAMP 1970-01-01 ~ 2038-01-19</li>
<li>TIMESTAMP 占用 4 字节，底层以 INT 存储，但是可读性比 INT 高</li>
</ol>
</li>
<li>同财务相关的金额类数据，必须使用 decimal 类型<ol>
<li>Decimal 类型为精准浮点数，在计算时不会丢失精度</li>
<li>占用空间由定义的宽度决定</li>
<li>可用于存储比 bigint 更大的整型数据</li>
</ol>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/06/20/读书笔记/《高性能MySQL》/2.数据库字段设计规范/" data-id="cjxpj03bd00borgtwsmb69qr1" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MySQL/">MySQL</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/数据库/">数据库</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-读书笔记/《高性能MySQL》/1.数据库设计规范" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/20/读书笔记/《高性能MySQL》/1.数据库设计规范/" class="article-date">
  <time datetime="2019-06-20T02:03:23.000Z" itemprop="datePublished">2019-06-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/高性能MySQL/">高性能MySQL</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/06/20/读书笔记/《高性能MySQL》/1.数据库设计规范/">《高性能MySQL》第一章 数据库设计规范</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="第一章-数据库设计规范"><a href="#第一章-数据库设计规范" class="headerlink" title="第一章 数据库设计规范"></a>第一章 数据库设计规范</h1><h2 id="1-数据库-命名规范"><a href="#1-数据库-命名规范" class="headerlink" title="1. 数据库 - 命名规范"></a>1. 数据库 - 命名规范</h2><ol>
<li>所有数据库对象名称必须使用小写字母并用下划线分割<ol>
<li>eg：DbName != dbname</li>
<li>eg: Table != table != tabLe</li>
</ol>
</li>
<li>所有数据库对象名称禁止使用 MySQL 保留关键字<ol>
<li>保留关键字：<a href="https://dev.mysql.com/doc/refman/8.0/en/keywords.html" target="_blank" rel="noopener">https://dev.mysql.com/doc/refman/8.0/en/keywords.html</a></li>
</ol>
</li>
<li>数据库对象的命名要做到见名识义，并且最好不要超过 32 字符<ol>
<li>数据库名过长，会增加网络开销</li>
</ol>
</li>
<li>临时库必须以 tmp 为前缀，并以日期为后缀</li>
<li>备份库、备份表必须以 bak 为前缀，并以日期为后缀</li>
<li>所有存储相同数据的列名和列类型必须一致<ol>
<li>即表A与表B的某个属性相同，则列名与类型必须一致</li>
<li>如 A.cid与 B.cid，都必须是 <code>cid int unsigned not null</code></li>
<li>这种属性一般用于关联列上，当保持一致时，对数据库查询效率有一定帮助</li>
</ol>
</li>
</ol>
<h2 id="2-数据库-基本设计规范"><a href="#2-数据库-基本设计规范" class="headerlink" title="2. 数据库 - 基本设计规范"></a>2. 数据库 - 基本设计规范</h2><ol>
<li>所有表必须使用 Innodb 存储引擎<ol>
<li>在 MySQL 5.5 之前，MylSAM 是默认的存储引擎，MylSAM 是表级锁，在高并发场景下，锁表会有很严重的性能问题</li>
<li>InnoDB 是 5.6 以后的默认存储引擎</li>
<li>InnoDB 支持事务，行级锁，拥有更好的恢复性，高并发场景下性能更好</li>
</ol>
</li>
<li>数据库和表的字符集统一使用 UTF8<ol>
<li>统一字符集可以避免由于字符集转换产生的乱码</li>
<li>MySQL 中 UTF8 字符集汉字占 3 个字节，ASCII 码占一个字符</li>
</ol>
</li>
<li>所有表和字段都需要添加注释<ol>
<li>使用 comment 从句添加表和列的备注</li>
<li>从一开始就进行数据字典的维护</li>
</ol>
</li>
<li>尽量控制单表数据量的大小，建议控制在 500W 以内<ol>
<li>500 W 并不是 MySQL 数据库的限制</li>
<li>可以使用历史数据归档，分库分表等手段限制单表的数据量大小</li>
</ol>
</li>
<li>谨慎使用 MySQL 分区表<ol>
<li>分区表在物理上表现为多个文件，在逻辑上表现为一个表</li>
<li>谨慎选择分区键，跨分区查询效率可能更低</li>
<li>建议采用物理分表的方式管理大数据</li>
</ol>
</li>
<li>尽量做到冷热数据分离，减小表的宽度<ol>
<li>减少磁盘IO，保证热数据的内存缓存命中率</li>
<li>更有效的利用缓存，避免读入无用的冷数据</li>
<li>经常一起使用的列放在一个表中</li>
</ol>
</li>
<li>禁止在表中建立预留字段<ol>
<li>预留字段的命名很难做到见名识义</li>
<li>预留字段无法确认存储的数据类型，所以无法选择合适的类型</li>
<li>对预留字段类型的修改，会对表进行锁定<ol>
<li>在 MySQL 中，对表类型修改的成本远远大于增加一个数据类型的成本</li>
</ol>
</li>
</ol>
</li>
<li>禁止在数据库中存储图片，文件等二进制数据<ol>
<li>blob、text 等类型</li>
</ol>
</li>
<li>禁止在线上做数据库压力测试</li>
<li>禁止从开发环境、测试环境直连生产环境数据库</li>
</ol>
<h2 id="3-数据库-索引设计规范"><a href="#3-数据库-索引设计规范" class="headerlink" title="3. 数据库 - 索引设计规范"></a>3. 数据库 - 索引设计规范</h2><ol>
<li>限制每张表的索引数量，建议单张表索引不超过 5 个<ol>
<li>索引并不是越多越好，过多的索引可能会降低效率</li>
<li>禁止给表中的每一列都建立单独的索引</li>
</ol>
</li>
<li>每个 InnoDB 表必须有一个主键<ol>
<li>Innodb 是按照主键索引的顺序来组织表的，因此每个表必须有一个主键</li>
<li>如果表中未设置主键，MySQL 会自动选择第一个非空唯一性的属性作为主键；如果没有非空唯一约束的属性，MySQL 会自动生成一个 6 字节的主键，但是效率不高</li>
<li>不使用更新频繁的列作为主键，不使用多列主键</li>
<li>不使用 UUID、MD5、HASH、字符串列作为主键</li>
<li>主键建议选择使用主键自增ID</li>
</ol>
</li>
<li>常见索引建议<ol>
<li>SELECT、UPDATE、DELETE 语句的 WHERE 从句中的列</li>
<li>包含在 ORDER BY、GROUP BY、DISTINCT 中的字段</li>
<li>多表 JOIN 的字段</li>
</ol>
</li>
<li>如何选择索引列的顺序<ol>
<li>区分度最高的列放在联合索引的最左侧</li>
<li>尽量把字段长度小的列放在联合索引的最左侧</li>
<li>使用最频繁的列放在联合索引的最左侧</li>
</ol>
</li>
<li>避免建议冗余索引和重复索引<ol>
<li>eg: primary key(id) 、index(id)、unique index(id)</li>
<li>eg: index(a,b,c)，index(a,b)，index(a)<ol>
<li>对于冗余索引，MySQL 执行优化器会对查询到的索引进行选择，降低了索引使用的效率</li>
</ol>
</li>
</ol>
</li>
<li>对于频繁的查询优先考虑使用覆盖索引<ol>
<li>避免 Innodb 表进行索引的二次查找</li>
<li>可以把随机 IO 变为顺序 IO，提高查询效率</li>
</ol>
</li>
<li>尽量避免使用外键<ol>
<li>不建议使用外键约束，但一定在表与表之间的关联键上建立索引</li>
<li>外键可用于保证数据的参照完整性，但建议在业务端实现</li>
<li>外键会影响父表和子表的写操作从而降低性能<ol>
<li>存在外键约束的表在进行写操作时，会检查外键约束的完整性，降低写操作的性能</li>
</ol>
</li>
</ol>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/06/20/读书笔记/《高性能MySQL》/1.数据库设计规范/" data-id="cjxpj03ba00bkrgtwo2g1apd6" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MySQL/">MySQL</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/数据库/">数据库</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/16/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/15/">15</a><a class="page-number" href="/page/16/">16</a><span class="page-number current">17</span><a class="page-number" href="/page/18/">18</a><a class="page-number" href="/page/19/">19</a><span class="space">&hellip;</span><a class="page-number" href="/page/33/">33</a><a class="extend next" rel="next" href="/page/18/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Docker学习/">Docker学习</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Git命令学习/">Git命令学习</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JAVA-核心知识点整理/">JAVA 核心知识点整理</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java并发编程与高并发解决方案/">Java并发编程与高并发解决方案</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java并发编程的艺术/">Java并发编程的艺术</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java成神之路/">Java成神之路</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Java成神之路/SpringBoot/">SpringBoot</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java成神之路/Study社区/">Study社区</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux学习之路/">Linux学习之路</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/MarkDown语法/">MarkDown语法</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/React学习/">React学习</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/SpringBoot-参考指南/">SpringBoot 参考指南</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/工具函数/">工具函数</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/设计模式/">设计模式</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/高性能MySQL/">高性能MySQL</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git-Bash/">Git Bash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MQ/">MQ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/POI/">POI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-Cloud/">Spring Cloud</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-Data/">Spring Data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringBoot/">SpringBoot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/">docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gradle/">gradle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/poi/">poi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/并发编程/">并发编程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据库/">数据库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/读书笔记/">读书笔记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/高并发/">高并发</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Git/" style="font-size: 13.75px;">Git</a> <a href="/tags/Git-Bash/" style="font-size: 11.25px;">Git Bash</a> <a href="/tags/Linux/" style="font-size: 12.5px;">Linux</a> <a href="/tags/MQ/" style="font-size: 15px;">MQ</a> <a href="/tags/MySQL/" style="font-size: 17.5px;">MySQL</a> <a href="/tags/POI/" style="font-size: 16.25px;">POI</a> <a href="/tags/Spring-Cloud/" style="font-size: 10px;">Spring Cloud</a> <a href="/tags/Spring-Data/" style="font-size: 12.5px;">Spring Data</a> <a href="/tags/SpringBoot/" style="font-size: 15px;">SpringBoot</a> <a href="/tags/docker/" style="font-size: 10px;">docker</a> <a href="/tags/gradle/" style="font-size: 11.25px;">gradle</a> <a href="/tags/java/" style="font-size: 20px;">java</a> <a href="/tags/poi/" style="font-size: 10px;">poi</a> <a href="/tags/并发编程/" style="font-size: 12.5px;">并发编程</a> <a href="/tags/数据库/" style="font-size: 17.5px;">数据库</a> <a href="/tags/读书笔记/" style="font-size: 18.75px;">读书笔记</a> <a href="/tags/高并发/" style="font-size: 12.5px;">高并发</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/12/30/blog/2019/">2019年目标</a>
          </li>
        
          <li>
            <a href="/2019/12/01/读书笔记/《Java并发编程的艺术》/0.0_目录/">《Java并发编程的艺术》读书笔记 - 目录</a>
          </li>
        
          <li>
            <a href="/2019/12/01/读书笔记/《Java核心知识点整理》/0.目录/">《JAVA 核心知识点整理》读书笔记 - 目录</a>
          </li>
        
          <li>
            <a href="/2019/11/30/读书笔记/《高性能MySQL》/0.目录/">《高性能MySQL》读书笔记 - 目录</a>
          </li>
        
          <li>
            <a href="/2019/07/05/读书笔记/《JavaDesignPatterns》/8.建造者模式/">《Java Design Patterns》第六章 建造者模式 - 复杂对象的组装与创建</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 koral<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>