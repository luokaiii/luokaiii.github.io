<!DOCTYPE html><html lang="zh-Hans"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="罗凯的博客主页"><meta name="keywords" content="博客,全栈工程师,前端工程师,后端工程师,运维工程师,罗凯的博客,罗凯,DevOps,技术博客"><meta name="author" content="koral"><meta name="copyright" content="koral"><title>现在的我可以做点什么，让未来的我可以受益匪浅？ | 凯</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.7.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.7.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  }
} </script></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="false"><div class="author-info"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">koral</div><div class="author-info__description text-center">罗凯的博客主页</div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">302</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">标签</span><span class="pull-right">39</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">分类</span><span class="pull-right">51</span></a></div></div></div><nav class="no-bg" id="nav"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/index.html">凯</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">首页</a><a class="site-page" href="/archives">归档</a><a class="site-page" href="/tags">标签</a><a class="site-page" href="/categories">分类</a><a class="site-page" href="/about">关于我</a></span><span class="pull-right"></span></div><div id="site-info"><div id="site-title">凯</div><div id="site-sub-title">现在的我可以做点什么，让未来的我可以受益匪浅？</div></div></nav><div id="content-outer"><div class="layout" id="content-inner"><div class="recent-post-item article-container"><a class="article-title" href="/2020/12/30/blog/2020/">2020年目标</a><span class="article-meta"><i class="fa fa-thumb-tack article-meta__icon sticky"></i><span class="sticky">置顶</span><span class="article-meta__separator" style="margin-right: 0.3rem">|</span></span><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-12-30</time><div class="content"><p>简单介绍一下 2020 年的目标，及具体完成情况.</p>
<table>
<thead>
<tr>
<th>目标</th>
<th>具体</th>
<th>完成情况</th>
</tr>
</thead>
<tbody><tr>
<td>LeetCode 题库</td>
<td>无要求</td>
<td>已解决：9/1572</td>
</tr>
<tr>
<td>UmiJS 文档</td>
<td><a href="https://umijs.org/zh-CN/docs" target="_blank" rel="noopener">文档</a>、<a href="https://umijs.org/zh-CN/config" target="_blank" rel="noopener">配置</a>、<a href="https://umijs.org/zh-CN/api" target="_blank" rel="noopener">API</a></td>
<td>已完成</td>
</tr>
<tr>
<td>Mock.JS</td>
<td><a href="https://github.com/nuysoft/Mock/wiki" target="_blank" rel="noopener">文档</a></td>
<td>已完成</td>
</tr>
<tr>
<td>UmiJS-Hooks</td>
<td><a href="https://hooks.umijs.org/zh-CN/hooks/async" target="_blank" rel="noopener">文档</a></td>
<td>已完成</td>
</tr>
<tr>
<td>科幻小说</td>
<td>带上她的眼睛</td>
<td></td>
</tr>
<tr>
<td>immer.js</td>
<td><a href="https://immerjs.github.io/immer/docs/introduction" target="_blank" rel="noopener">文档</a></td>
<td>已完成</td>
</tr>
<tr>
<td>SSR - UmiJS</td>
<td><a href="https://umijs.org/zh-CN/docs/ssr" target="_blank" rel="noopener">文档</a></td>
<td>已完成</td>
</tr>
<tr>
<td>MyBatis-Plus</td>
<td><a href="https://mp.baomidou.com/guide" target="_blank" rel="noopener">文档</a></td>
<td>已完成</td>
</tr>
<tr>
<td>Java 开发手册(泰山版)</td>
<td><a href="https://github.com/alibaba/p3c" target="_blank" rel="noopener">Ali p3c 地址</a></td>
<td>已完成</td>
</tr>
</tbody></table></div><a class="more" href="/2020/12/30/blog/2020/#more">阅读更多</a><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/07/23/运维/docker/2.免Sudo使用Docker/">无题</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-07-23</time><div class="content"><p>在每次使用 docker 时，都需要使用 sudo 前缀。</p>
<pre><code class="tex">Got permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Get http://%2Fvar%2Frun%2Fdocker.sock/v1.26/images/json: dial unix /var/run/docker.sock: connect: permission denied</code></pre>
<pre><code class="sh"># 添加 Docker 组
$ sudo groupadd docker
# 将用户加入组
$ sudo gpasswd -a ${USER} docker
# 重启 Docker 服务
$ sudo service docker restart
# 切换当前会话
$ newgrp - docker</code></pre>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/07/23/运维/docker/1.安装Docker/">无题</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-07-23</time><div class="content"><h1 id="安装-Docker"><a href="#安装-Docker" class="headerlink" title="安装 Docker"></a>安装 Docker</h1><h2 id="一、移除旧版本"><a href="#一、移除旧版本" class="headerlink" title="一、移除旧版本"></a>一、移除旧版本</h2><pre><code class="sh">$ sudo apt-get remove docker docker-engine docker.io containerd runc</code></pre>
<h2 id="二、设置仓库"><a href="#二、设置仓库" class="headerlink" title="二、设置仓库"></a>二、设置仓库</h2><h3 id="1-安装-curl-及使用-https"><a href="#1-安装-curl-及使用-https" class="headerlink" title="1. 安装 curl 及使用 https"></a>1. 安装 curl 及使用 https</h3><pre><code class="sh">$ sudo apt-get update

$ sudo apt-get install \
    apt-transport-https \
    ca-certificates \
    curl \
    gnupg-agent \
    software-properties-common</code></pre>
<h3 id="2-添加-GPG-key"><a href="#2-添加-GPG-key" class="headerlink" title="2. 添加 GPG key"></a>2. 添加 GPG key</h3><pre><code class="sh">$ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -</code></pre>
<h3 id="3-设置存储库"><a href="#3-设置存储库" class="headerlink" title="3. 设置存储库"></a>3. 设置存储库</h3><pre><code class="sh">$ sudo add-apt-repository \
   &quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu \
   $(lsb_release -cs) \
   stable&quot;</code></pre>
<h2 id="三、安装Docker-Engine"><a href="#三、安装Docker-Engine" class="headerlink" title="三、安装Docker Engine"></a>三、安装Docker Engine</h2><h3 id="1-安装-docker-engine-及-containerd"><a href="#1-安装-docker-engine-及-containerd" class="headerlink" title="1. 安装 docker engine 及 containerd"></a>1. 安装 docker engine 及 containerd</h3><pre><code class="sh">$ sudo apt-get update
$ sudo apt-get install docker-ce docker-ce-cli containerd.io</code></pre>
<h3 id="2-安装指定版本"><a href="#2-安装指定版本" class="headerlink" title="2. 安装指定版本"></a>2. 安装指定版本</h3><pre><code class="sh">$ apt-cache madison docker-ce

  docker-ce | 5:18.09.1~3-0~ubuntu-xenial | https://download.docker.com/linux/ubuntu  xenial/stable amd64 Packages
  docker-ce | 5:18.09.0~3-0~ubuntu-xenial | https://download.docker.com/linux/ubuntu  xenial/stable amd64 Packages
  docker-ce | 18.06.1~ce~3-0~ubuntu       | https://download.docker.com/linux/ubuntu  xenial/stable amd64 Packages
  docker-ce | 18.06.0~ce~3-0~ubuntu       | https://download.docker.com/linux/ubuntu  xenial/stable amd64 Packages
  ...</code></pre>
<h3 id="3-测试"><a href="#3-测试" class="headerlink" title="3. 测试"></a>3. 测试</h3><pre><code class="sh">$ sudo docker run hello-world</code></pre>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/07/02/前端/Ant Motion/动效原则/动画术语/">无题</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-07-02</time><div class="content"><h1 id="animate-term-动画术语"><a href="#animate-term-动画术语" class="headerlink" title="animate term 动画术语"></a>animate term 动画术语</h1><h2 id="基本style可动画参数"><a href="#基本style可动画参数" class="headerlink" title="基本style可动画参数"></a>基本style可动画参数</h2><table>
<thead>
<tr>
<th align="center">参数名称</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">width</td>
<td align="left"><code>{ width: 100 }</code> 元素当前宽度到 100px</td>
</tr>
<tr>
<td align="center">maxWidth</td>
<td align="left"><code>{ maxWidth: 100 }</code> 元素当前最大宽度到 100px</td>
</tr>
<tr>
<td align="center">minWidth</td>
<td align="left"><code>{ minWidth: 100 }</code> 元素当前最小宽度到 100px</td>
</tr>
<tr>
<td align="center">height</td>
<td align="left"><code>{ height: 100 }</code> 元素当前高度到 100px</td>
</tr>
<tr>
<td align="center">maxHeight</td>
<td align="left"><code>{ maxHeight: 100 }</code> 元素当前最大高度到 100px</td>
</tr>
<tr>
<td align="center">minHeight</td>
<td align="left"><code>{ minHeight: 100 }</code> 元素当前最小高度到 100px</td>
</tr>
<tr>
<td align="center">lineHeight</td>
<td align="left"><code>{ lineHeight: 100 }</code> 区块行高到 100px</td>
</tr>
<tr>
<td align="center">opacity</td>
<td align="left"><code>{ opacity: 0 }</code> 元素当前透明度到 0</td>
</tr>
<tr>
<td align="center">top</td>
<td align="left"><code>{ top: 100 }</code> 元素当前顶部距离到 100px, 需配合 `position: relative</td>
</tr>
<tr>
<td align="center">right</td>
<td align="left"><code>{ right: 100 }</code> 元素当前右部距离到 100px, 需配合 `position: relative</td>
</tr>
<tr>
<td align="center">bottom</td>
<td align="left"><code>{ bottom: 100 }</code> 元素当前下部距离到 100px, 需配合 `position: relative</td>
</tr>
<tr>
<td align="center">left</td>
<td align="left"><code>{ left: 100 }</code> 元素当前左部距离到 100px, 需配合 `position: relative</td>
</tr>
<tr>
<td align="center">marginTop</td>
<td align="left"><code>{ marginTop: 100 }</code> 元素当前顶部外边距离到 100px</td>
</tr>
<tr>
<td align="center">marginRight</td>
<td align="left"><code>{ marginRight: 100 }</code> 元素当前右部外边距离到 100px</td>
</tr>
<tr>
<td align="center">marginBottom</td>
<td align="left"><code>{ marginBottom: 100 }</code> 元素当前下部外边距离到 100px</td>
</tr>
<tr>
<td align="center">marginLeft</td>
<td align="left"><code>{ marginLeft: 100 }</code> 元素当前左部外边距离到 100px</td>
</tr>
<tr>
<td align="center">paddingTop</td>
<td align="left"><code>{ paddingTop: 100 }</code> 元素当前顶部内边距离到 100px</td>
</tr>
<tr>
<td align="center">paddingRight</td>
<td align="left"><code>{ paddingRight: 100 }</code> 元素当前右部内边距离到 100px</td>
</tr>
<tr>
<td align="center">paddingBottom</td>
<td align="left"><code>{ paddingBottom: 100 }</code> 元素当前下部内边距离到 100px</td>
</tr>
<tr>
<td align="center">paddingLeft</td>
<td align="left"><code>{ paddingLeft: 100 }</code> 元素当前左部内边距离到 100px</td>
</tr>
<tr>
<td align="center">color</td>
<td align="left"><code>{ color: &#39;#FFFFFF&#39; }</code> 元素当前文字颜色到白色</td>
</tr>
<tr>
<td align="center">backgroundColor</td>
<td align="left"><code>{ backgroundColor: &#39;#FFFFFF&#39; }</code> 元素当前背景颜色到白色</td>
</tr>
<tr>
<td align="center">borderWidth</td>
<td align="left"><code>{ borderWidth: 2 }</code> 元素当前边框宽度到 2px，同样可用 <code>borderTopWidth</code> <code>borderRightWidth</code> <code>borderBottomWidth</code> <code>borderLeftWidth</code></td>
</tr>
<tr>
<td align="center">borderRadius</td>
<td align="left"><code>{ borderRadius: 5 }</code> 元素当前圆角到 5px, 同上, 同样可用 <code>上 左 下 右</code></td>
</tr>
<tr>
<td align="center">borderColor</td>
<td align="left"><code>{ borderColor: &#39;#FFFFFF&#39; }</code> 元素当前边框颜色到白色</td>
</tr>
<tr>
<td align="center">boxShadow</td>
<td align="left"><code>{ boxShadow: &#39;0 0 10px #000&#39; }</code> 元素当前阴影模糊到 10px</td>
</tr>
<tr>
<td align="center">textShadow</td>
<td align="left"><code>{ textShadow: &#39;0 0 10px #000&#39; }</code> 元素当前文字内容阴影模糊到 10px</td>
</tr>
</tbody></table>
<h2 id="transform-参数"><a href="#transform-参数" class="headerlink" title="transform 参数"></a>transform 参数</h2><table>
<thead>
<tr>
<th align="left">参数名称</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">translateX / x</td>
<td align="left"><code>{ translateX: 10 } or { x: 10 } =&gt; transform: translateX(10px)</code>, x 方向的位置移动 10px</td>
</tr>
<tr>
<td align="left">translateY / y</td>
<td align="left"><code>{ translateY: 10 } or { y: 10 } =&gt; transform: translateY(10px)</code>, y 方向的位置移动 10px</td>
</tr>
<tr>
<td align="left">translateZ / z</td>
<td align="left"><code>{ translateZ: 10 } or { z: 10 } =&gt; transform: translateZ(10px)</code>, z 方向的位置移动 10px</td>
</tr>
<tr>
<td align="left">rotate</td>
<td align="left"><code>{ rotate: 10 } =&gt; transform: rotate(10deg)</code> 元素以 transformOrigin 的中心点旋转 10deg</td>
</tr>
<tr>
<td align="left">rotateX</td>
<td align="left"><code>{ rotateX: 10 } =&gt; transform: rotateX(10deg)</code> 元素以 transformOrigin 的中心点向 X 旋转 10deg</td>
</tr>
<tr>
<td align="left">rotateY</td>
<td align="left"><code>{ rotateY: 10 } =&gt; transform: rotateY(10deg)</code> 元素以 transformOrigin 的中心点向 Y 旋转 10deg</td>
</tr>
<tr>
<td align="left">scale</td>
<td align="left"><code>{ scale: 0 } =&gt; transform: scale(0)</code> 元素以 transformOrigin 的中心点缩放到 0, 不改变元素的宽高</td>
</tr>
<tr>
<td align="left">scaleX</td>
<td align="left"><code>{ scaleX: 0 } =&gt; transform: scaleX(0)</code> 元素以 transformOrigin 的中心点 X 缩放到 0, 不改变元素的宽高</td>
</tr>
<tr>
<td align="left">scaleY</td>
<td align="left"><code>{ scaleY: 0 } =&gt; transform: scaleY(0)</code> 元素以 transformOrigin 的中心点 Y 缩放到 0, 不改变元素的宽高</td>
</tr>
<tr>
<td align="left">transformOrigin</td>
<td align="left"><code>{ transformOrigin: &#39;50px 50px&#39;}</code> 元素当前中心点到 x: 50px y: 50px;</td>
</tr>
</tbody></table>
<h2 id="filter-参数"><a href="#filter-参数" class="headerlink" title="filter 参数"></a>filter 参数</h2><table>
<thead>
<tr>
<th align="center">参数名称</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">grayScale</td>
<td align="center"><code>{ grayScale: 1 }</code> 元素 filter 灰度到 100%;</td>
</tr>
<tr>
<td align="center">sepia</td>
<td align="center"><code>{ sepia: 1 }</code> 元素 filter 颜色到 100%;</td>
</tr>
<tr>
<td align="center">hueRotate</td>
<td align="center"><code>{ hueRotate: &#39;90deg&#39; }</code> 元素 filter 色相盘旋转 90 度;</td>
</tr>
<tr>
<td align="center">invert</td>
<td align="center"><code>{ invert: 1 }</code> 元素 filter 色值反相到 100%</td>
</tr>
<tr>
<td align="center">brightness</td>
<td align="center"><code>{ brightness: 2 }</code> 元素 filter 亮度到 200%</td>
</tr>
<tr>
<td align="center">contrast</td>
<td align="center"><code>{ contrast: 2 }</code> 对比度到 200%</td>
</tr>
<tr>
<td align="center">saturate</td>
<td align="center"><code>{ saturate: 2 }</code> 饱和度到 200%</td>
</tr>
<tr>
<td align="center">blur</td>
<td align="center"><code>{ blur: &#39;20px&#39; }</code> 模糊到 20px</td>
</tr>
</tbody></table>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/07/02/前端/Ant Motion/动效原则/动效/">无题</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-07-02</time><div class="content"><h1 id="Ant-Motion-动效原则"><a href="#Ant-Motion-动效原则" class="headerlink" title="Ant Motion 动效原则"></a>Ant Motion 动效原则</h1><h2 id="一、Motion-动效"><a href="#一、Motion-动效" class="headerlink" title="一、Motion 动效"></a>一、Motion 动效</h2><p>界面动效能加强用户认知且增加活力。</p>
<h3 id="1-1-动效价值"><a href="#1-1-动效价值" class="headerlink" title="1.1 动效价值"></a>1.1 动效价值</h3><ul>
<li>增加体验舒适度：让用户认知过程更加自然</li>
<li>增加界面活力：第一时间吸引注意力，突出重点</li>
<li>描述层级关系：体现元素之间的层级与空间关系</li>
<li>提供反馈、明确意向：助力交互体验</li>
</ul>
<h3 id="1-2-衡量动效意义"><a href="#1-2-衡量动效意义" class="headerlink" title="1.2 衡量动效意义"></a>1.2 衡量动效意义</h3><ul>
<li>动效的存在是否合理</li>
<li>动效与性能：不能出现大幅度波动丢帧与卡顿现象，不能影响产品性能</li>
</ul>
<h2 id="二、Principle-原则"><a href="#二、Principle-原则" class="headerlink" title="二、Principle 原则"></a>二、Principle 原则</h2><h3 id="2-1-自然"><a href="#2-1-自然" class="headerlink" title="2.1 自然"></a>2.1 自然</h3><p>自然运动规律，保证视觉连贯，让用户感知到动作是自然的。</p>
<h3 id="2-2-高效"><a href="#2-2-高效" class="headerlink" title="2.2 高效"></a>2.2 高效</h3><p>尽量节省过渡的时间，快速完成过渡的动画效果。</p>
<h3 id="2-3-克制"><a href="#2-3-克制" class="headerlink" title="2.3 克制"></a>2.3 克制</h3><p>做有意义的动效，不去做太多的修饰而干扰用户。</p>
<h2 id="三、Speed-速度"><a href="#三、Speed-速度" class="headerlink" title="三、Speed 速度"></a>三、Speed 速度</h2><p>速度的快或慢取决于时间与缓动，相同的距离，时间越短速度则越快，而缓动则是能将同一段时间划分快与慢的区域。</p>
<h2 id="四、Space-空间"><a href="#四、Space-空间" class="headerlink" title="四、Space 空间"></a>四、Space 空间</h2><p>现实空间里，物体存在远小近大的原则，运动则有远慢近快。在动效设计时，处理和空间相关的话题时，我们需要考虑两方面的因素：</p>
<ul>
<li><strong>视差：</strong>例如汽车在公路上行驶，离汽车越近的物体，移动速度越接近汽车的速率。以行进中的汽车为例，汽车所在的点为 X 轴的基准点，离基准点越远时，速度就越慢。动效设计中同样存在这个原则，元素的空间距离会影响动画效果，从而影响动效设计的决策。</li>
<li><strong>大小：</strong>遵循远处的物体小，近处的物体大的原则。</li>
</ul>
<h2 id="五、Combined-组合"><a href="#五、Combined-组合" class="headerlink" title="五、Combined 组合"></a>五、Combined 组合</h2><p>组合动效是将多种动画效果组合起来运用在单个元素或者界面中的表现方式，吸引用户的注意，让用户快速了解信息的主次关系。ant design 最常用的组合动效有以下三种：</p>
<ul>
<li>单元素组合动画：单元素组合动画是指将多个动画参数附加于一个元素上，通过不同的动画参数帮助用户实现自然的认知过程。</li>
<li>多元素列队动画：队列一般指同个区块里多个元素的进场或出场，根据元素的排列顺序，有序的进入或依次的退出，实现更为自然的视觉过渡。</li>
<li>多元素聚散动画：以中心点为主向外扩散或汇聚的一个效果，强调主体以及分支之间的关系，能够快速的让用户了解信息的关联性。</li>
</ul>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/07/02/前端/Ant Motion/README/">无题</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-07-02</time><div class="content"></div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/06/19/前端/ReactNative/第三方组件/ReactNativeElements/">无题</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-06-19</time><div class="content"><h2 id="一、基础部分"><a href="#一、基础部分" class="headerlink" title="一、基础部分"></a>一、基础部分</h2><h3 id="1-1-安装"><a href="#1-1-安装" class="headerlink" title="1.1 安装"></a>1.1 安装</h3><pre><code class="shell">$ yarn add react-native-elements
# or with npm
$ npm install --save react-native-elements</code></pre>
<h3 id="1-2-使用"><a href="#1-2-使用" class="headerlink" title="1.2 使用"></a>1.2 使用</h3><pre><code class="js">import { Button, ThemeProvider } from &#39;react-native-elements&#39;;

const MyApp = () =&gt; {
    return (
        &lt;ThemeProvider&gt;
            &lt;Button title=&quot;Hello World!&quot; /&gt;
        &lt;/ThemeProvider&gt;
    )
}</code></pre>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/06/19/前端/ReactNative/第三方组件/ReactNativeWebview/">无题</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-06-19</time><div class="content"><h1 id="React-Native-Webview"><a href="#React-Native-Webview" class="headerlink" title="React-Native-Webview"></a>React-Native-Webview</h1><p><strong>一、新增依赖</strong></p>
<pre><code class="shell">$ yarn add react-native-webview</code></pre>
<p><strong>二、link 依赖</strong></p>
<pre><code class="shell">$ npx react-native link react-native-webview</code></pre>
<p><strong>三、使用</strong></p>
<pre><code class="js">import React, { Component } from &#39;react&#39;;
import { WebView } from &#39;react-native-webview&#39;;

class MyWeb extends Component {
  render() {
    return (
      &lt;WebView
        source={{ uri: 'https://infinite.red' }}
        style={{ marginTop: 20 }}
      /&gt;
    );
  }
}</code></pre>
<ul>
<li><a href="https://github.com/react-native-community/react-native-webview/blob/master/docs/Getting-Started.md" target="_blank" rel="noopener">Getting-Started</a></li>
<li><a href="https://github.com/react-native-community/react-native-webview/blob/master/docs/Reference.md" target="_blank" rel="noopener">API Reference</a></li>
</ul>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/06/18/前端/ReactNative/第三方组件/ReactNativeNavigation/">无题</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-06-18</time><div class="content"><h2 id="一、基础部分"><a href="#一、基础部分" class="headerlink" title="一、基础部分"></a>一、基础部分</h2><h3 id="1-1-安装"><a href="#1-1-安装" class="headerlink" title="1.1 安装"></a>1.1 安装</h3><p><strong>添加依赖</strong>：</p>
<pre><code class="shell">$ yarn add react-native-navigation
# or use npm
$ npm install --save react-native-navigation</code></pre>
<p><strong>关联依赖</strong>：</p>
<pre><code class="shell">$ npx react-native link react-native-navigation</code></pre>
<p><strong>更新 index.js</strong>：</p>
<pre><code class="js">import { Navigation } from &quot;react-native-navigation&quot;;
import App from &quot;./App&quot;;

Navigation.registerComponent(&quot;App&quot;, () =&gt; App);

Navigation.events().registerAppLaunchedListener(() =&gt; {
  Navigation.setRoot({
    root: {
      stack: {
        children: [
          {
            component: {
              name: &quot;App&quot;,
            },
          },
        ],
      },
    },
  });
});</code></pre>
<h2 id="二、使用导航"><a href="#二、使用导航" class="headerlink" title="二、使用导航"></a>二、使用导航</h2><h3 id="2-1-基础示例"><a href="#2-1-基础示例" class="headerlink" title="2.1 基础示例"></a>2.1 基础示例</h3><pre><code class="js">import React from &quot;react&quot;;
import { View, Text, Button, StyleSheet } from &quot;react-native&quot;;
import { Navigation } from &quot;react-native-navigation&quot;;

// 页面一
const Module1 = (props) =&gt; {
  return (
    &lt;View style={styles.root}&gt;
      &lt;Text&gt;这里是页面1&lt;/Text&gt;
      &lt;Button
        title=&quot;跳转至2&quot;
        color=&quot;#710ce3&quot;
        onPress={() =&gt;
          Navigation.push(props.componentId, {
            component: {
              name: &quot;page2&quot;,
            },
          })
        }
      /&gt;
    &lt;/View&gt;
  );
};

// 页面一的头标题、tab标题
Module1.options = {
  topBar: {
    title: {
      text: &quot;第一页&quot;,
    },
  },
  bottomTab: {
    text: &quot;page1&quot;,
  },
};

// 页面二
const Module2 = (props) =&gt; {
  return (
    &lt;View style={styles.root}&gt;
      &lt;Text&gt;这里是页面2&lt;/Text&gt;
    &lt;/View&gt;
  );
};

// 页面二的头标题、tab标题
Module2.options = {
  topBar: {
    title: {
      text: &quot;第2页&quot;,
    },
  },
  bottomTab: {
    text: &quot;page2&quot;,
  },
};

// 注册页面
Navigation.registerComponent(&quot;page1&quot;, () =&gt; Module1);
Navigation.registerComponent(&quot;page2&quot;, () =&gt; Module2);

// 设置默认导航信息
Navigation.setDefaultOptions({
  statusBar: {
    backgroundColor: &quot;#4d089a&quot;,
  },
  topBar: {
    title: {
      color: &quot;white&quot;,
    },
    backButton: {
      color: &quot;white&quot;,
    },
    background: {
      color: &quot;#4d089a&quot;,
    },
  },
  bottomTab: {
    fontSize: 14,
    selectedFontSize: 14,
  },
});

// 注册事件监听器
Navigation.events().registerAppLaunchedListener(async () =&gt; {
  Navigation.setRoot({
    root: {
      bottomTabs: {
        children: [
          {
            stack: {
              children: [
                {
                  component: {
                    name: &quot;page1&quot;,
                  },
                },
              ],
            },
          },
          {
            stack: {
              children: [
                {
                  component: {
                    name: &quot;page1&quot;,
                  },
                },
              ],
            },
          },
        ],
      },
    },
  });
});

// 使用 StyleSheet 创建的样式
const styles = StyleSheet.create({
  root: {
    flex: 1,
    alignItems: &quot;center&quot;,
    justifyContent: &quot;center&quot;,
    backgroundColor: &quot;whitesmoke&quot;,
  },
});</code></pre>
<h3 id="2-2-LifeCycle-生命周期"><a href="#2-2-LifeCycle-生命周期" class="headerlink" title="2.2 LifeCycle - 生命周期"></a>2.2 LifeCycle - 生命周期</h3><h4 id="2-2-1-装载组件"><a href="#2-2-1-装载组件" class="headerlink" title="2.2.1 装载组件"></a>2.2.1 装载组件</h4><p>依次调用 <code>constructor() &gt;&gt; render() &gt;&gt; componentDidMount() &gt;&gt; componentDidAppear()</code></p>
<h4 id="2-2-2-卸载组件"><a href="#2-2-2-卸载组件" class="headerlink" title="2.2.2 卸载组件"></a>2.2.2 卸载组件</h4><p>依次调用 <code>componentDidDisappear() &gt;&gt; componentWillUnmount()</code></p>
<h3 id="2-3-passing-data-传递-Props"><a href="#2-3-passing-data-传递-Props" class="headerlink" title="2.3 passing data - 传递 Props"></a>2.3 passing data - 传递 Props</h3><p>使用 passProps 属性来传递 props。</p>
<pre><code class="js">Navigation.push(this.props.componentId, {
  component: {
    name: &quot;page2&quot;,
    id: &quot;USER_ID&quot;,
    passProps: {
      name: &quot;JACK&quot;,
      status: &quot;online&quot;,
    },
  },
});</code></pre>
<p><strong>更新 Props</strong>，使用 id 来更新该组件的 props：</p>
<pre><code class="js">Navigation.updateProps(&quot;USER_ID&quot;, {
  status: &quot;offline&quot;,
});</code></pre>
<h3 id="2-4-functional-components-函数组件的生命周期"><a href="#2-4-functional-components-函数组件的生命周期" class="headerlink" title="2.4 functional components - 函数组件的生命周期"></a>2.4 functional components - 函数组件的生命周期</h3><p>使用函数组件来监听生命周期函数。</p>
<pre><code class="js">import React, { useEffect } from &quot;react&quot;;
import { View, StyleSheet, Text } from &quot;react-native&quot;;
import { Navigation } from &quot;react-native-navigation&quot;;

const Home = (props) =&gt; {
  useEffect(() =&gt; {
    const listener = {
      componentDidAppear: () =&gt; {
        console.log(&quot;RNN&quot;, &quot;componentDidAppear&quot;);
      },
      componentDidDisappear: () =&gt; {
        console.log(&quot;RNN&quot;, &quot;componentDidDisappear&quot;);
      },
    };
    // 为当前组件注册相关的监听器
    const unsubscribe = Navigation.events().registerComponentListener(
      listener,
      props.componentId
    );
    // 确保组件清理时移除了监听器
    return () =&gt; {
      unsubscribe.remove();
    };
  }, [props]);

  return (
    &lt;View style={styles.root}&gt;
      &lt;Text&gt;首页&lt;/Text&gt;
    &lt;/View&gt;
  );
};</code></pre>
<p>也可以使用 <code>react-native-navigation-hooks</code> 来监听：</p>
<pre><code class="js">import { useNavigationComponentDidAppear } from &quot;react-native-navigation-hooks&quot;;

const ScreenComponent = ({ componentId }) =&gt; {
  // Global listener
  useNavigationComponentDidAppear((e) =&gt; {
    console.log(`${e.componentName} (${e.componentId}) appeared`);
  });

  // Listen events only for this screen (componentId)
  useNavigationComponentDidAppear((e) =&gt; {
    console.log(`${e.componentName} appeared`);
  }, componentId);

  return (
    &lt;View&gt;
      &lt;Text&gt;Screen Component&lt;/Text&gt;
    &lt;/View&gt;
  );
};</code></pre>
<h2 id="三、Layout-布局"><a href="#三、Layout-布局" class="headerlink" title="三、Layout - 布局"></a>三、Layout - 布局</h2><h3 id="3-1-Stack-堆"><a href="#3-1-Stack-堆" class="headerlink" title="3.1 Stack - 堆"></a>3.1 Stack - 堆</h3><h3 id="3-2-Bottom-Tabs-底部导航"><a href="#3-2-Bottom-Tabs-底部导航" class="headerlink" title="3.2 Bottom Tabs - 底部导航"></a>3.2 Bottom Tabs - 底部导航</h3><h3 id="3-3-Side-Menu-侧边菜单"><a href="#3-3-Side-Menu-侧边菜单" class="headerlink" title="3.3 Side Menu - 侧边菜单"></a>3.3 Side Menu - 侧边菜单</h3><h3 id="3-4-External-Component-外元件"><a href="#3-4-External-Component-外元件" class="headerlink" title="3.4 External Component - 外元件"></a>3.4 External Component - 外元件</h3></div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/06/17/前端/ReactNative/踩坑/Untitled/">无题</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-06-17</time><div class="content"><ol>
<li><p>WebView 从 ReactNative 中移除</p>
<ol>
<li>解决方案：使用 react-native-webview 第三方库</li>
</ol>
</li>
<li><p>yarn add react-native-webview 后直接启动失败</p>
</li>
<li><p>yarn link react-native-webview</p>
<ol start="2">
<li>解决方案：找到 ${workspace}/android/build.gradle，将 compileSdkVersion 改为 29.</li>
<li>参考资料：<a href="https://github.com/react-native-community/react-native-webview/blob/master/docs/Getting-Started.md" target="_blank" rel="noopener">https://github.com/react-native-community/react-native-webview/blob/master/docs/Getting-Started.md</a></li>
</ol>
</li>
<li><p>编译时出现：Error：Execution failed for task ‘:app:processDebugResources’.</p>
<ol>
<li>原因：builToolsVersion、compileSDKVersion、targetSDKVersion不一致</li>
<li>解决方案，同2里的，将 targetSdkVersion 也改为29.</li>
</ol>
</li>
<li><p>onNavigationStateChange 方法不响应</p>
<ol>
<li>原因：该方法不支持SPA应用</li>
<li>解决思路：重写 webviewClient 中跳转的方法，使其产生响应</li>
<li>参考资料：<a href="https://blog.csdn.net/hxl517116279/article/details/105244511" target="_blank" rel="noopener">https://blog.csdn.net/hxl517116279/article/details/105244511</a></li>
<li>参考资料2：<a href="https://medium.com/@tanjohnny/webview-of-your-spa-in-react-native-a06b0aa2e85d" target="_blank" rel="noopener">https://medium.com/@tanjohnny/webview-of-your-spa-in-react-native-a06b0aa2e85d</a></li>
</ol>
</li>
</ol>
</div><hr></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2020 By koral</div><div class="framework-info"><span>驱动 - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv"><i class="fa fa-user"></i><span id="busuanzi_value_site_uv"></span><span></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_site_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.7.0"></script><script src="/js/fancybox.js?version=1.7.0"></script><script src="/js/sidebar.js?version=1.7.0"></script><script src="/js/copy.js?version=1.7.0"></script><script src="/js/fireworks.js?version=1.7.0"></script><script src="/js/transition.js?version=1.7.0"></script><script src="/js/scroll.js?version=1.7.0"></script><script src="/js/head.js?version=1.7.0"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script></body></html>