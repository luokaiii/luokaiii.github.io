<!DOCTYPE html><html lang="zh-Hans"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="《Spring Security》第二章 Java配置SpringSecurity"><meta name="keywords" content="Spring Security"><meta name="author" content="koral"><meta name="copyright" content="koral"><title>《Spring Security》第二章 Java配置SpringSecurity | 凯</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.7.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.7.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  }
} </script></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="切换文章详情">切换站点概览</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#第二章-Java配置SpringSecurity"><span class="toc-number">1.</span> <span class="toc-text">第二章 Java配置SpringSecurity</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#一、创建-Spring-Security-Java-配置"><span class="toc-number">1.1.</span> <span class="toc-text">一、创建 Spring Security Java 配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二、HttpSecurity-配置"><span class="toc-number">1.2.</span> <span class="toc-text">二、HttpSecurity 配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#三、Java-配置和表单登录"><span class="toc-number">1.3.</span> <span class="toc-text">三、Java 配置和表单登录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#四、授权请求"><span class="toc-number">1.4.</span> <span class="toc-text">四、授权请求</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#五、登出处理"><span class="toc-number">1.5.</span> <span class="toc-text">五、登出处理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-LogoutHandler-登出处理器"><span class="toc-number">1.5.1.</span> <span class="toc-text">5.1 LogoutHandler 登出处理器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-LogoutSuccessHandler-登出成功处理器"><span class="toc-number">1.5.2.</span> <span class="toc-text">5.2 LogoutSuccessHandler 登出成功处理器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-其他的登出考虑"><span class="toc-number">1.5.3.</span> <span class="toc-text">5.3 其他的登出考虑</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#六、WebFlux-Security"><span class="toc-number">1.6.</span> <span class="toc-text">六、WebFlux Security</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#七、OAuth-2-0"><span class="toc-number">1.7.</span> <span class="toc-text">七、OAuth 2.0</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#八、Authentication-认证"><span class="toc-number">1.8.</span> <span class="toc-text">八、Authentication 认证</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-内存认证-In-Memory-Authentication"><span class="toc-number">1.8.1.</span> <span class="toc-text">8.1 内存认证(In-Memory Authentication)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-JDBC认证"><span class="toc-number">1.8.2.</span> <span class="toc-text">8.2 JDBC认证</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#九、多重-HttpSecurity-配置"><span class="toc-number">1.9.</span> <span class="toc-text">九、多重 HttpSecurity 配置</span></a></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">koral</div><div class="author-info__description text-center">描述</div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives/index.html"><span class="pull-left">文章</span><span class="pull-right">237</span></a><a class="author-info-articles__tags article-meta" href="/tags/index.html"><span class="pull-left">标签</span><span class="pull-right">29</span></a><a class="author-info-articles__categories article-meta" href="/categories/index.html"><span class="pull-left">分类</span><span class="pull-right">33</span></a></div></div></div><div id="content-outer"><div class="no-bg" id="top-container"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/index.html">凯</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">首页</a><a class="site-page" href="/archives/index.html">归档</a><a class="site-page" href="/tags/index.html">标签</a><a class="site-page" href="/categories/index.html">分类</a><a class="site-page" href="/about/index.html">关于我</a></span><span class="pull-right"></span></div><div id="post-info"><div id="post-title">《Spring Security》第二章 Java配置SpringSecurity</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-07-18</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/读书笔记/index.html">读书笔记</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/读书笔记/Spring-Security/index.html">Spring Security</a></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h1 id="第二章-Java配置SpringSecurity"><a href="#第二章-Java配置SpringSecurity" class="headerlink" title="第二章 Java配置SpringSecurity"></a>第二章 Java配置SpringSecurity</h1><p>从 Spring 3.1 以后，Spring框架支持了对 Java 配置的支持，所以这里就不再细述 XML 的配置方式了。感兴趣的可以直接 <a href="https://docs.spring.io/spring-security/site/docs/5.0.5.RELEASE/reference/htmlsingle/#ns-config" target="_blank" rel="noopener">查看 SpringSecurity 文档</a>，里面详细描述了 Java Configuration 对应的XML Configuration。</p>
<p>Spring Security 提供了许多 Java Configuration 的 Samples 示例，详见 <a href="https://github.com/spring-projects/spring-security/tree/master/samples/javaconfig" target="_blank" rel="noopener">Samples</a>。</p>
<h2 id="一、创建-Spring-Security-Java-配置"><a href="#一、创建-Spring-Security-Java-配置" class="headerlink" title="一、创建 Spring Security Java 配置"></a>一、创建 Spring Security Java 配置</h2><pre><code class="java">@EnableWebSecurity
public class WebSecurityConfig implements WebMvcConfigurer {
    @Bean
    public UserDetailsService userDetailsService() throws Exception {
        InMemoryUserDetailsManager manager = new InMemoryUserDetailsManager();           
        manager.createUser(
            User.withDefaultPasswordEncoder()
                .username(&quot;user&quot;)
                .password(&quot;password&quot;)
                .roles(&quot;USER&quot;)
                .build()
        );
        return manager;
    }
}</code></pre>
<p>查看 <code>@EnableWebSecurity</code> 的代码，可以发现其引入了 <code>WebSecurityConfiguration.class</code> 的配置类。</p>
<p>该配置创建了一个 <code>SpringSecurityFilterChain</code> 的过滤器，负责应用程序内部的所有安全（如保护应用的URL、验证提交的用户名密码、重定向至登录表单等等）。</p>
<p>其具有的主要功能如下：</p>
<ol>
<li>默认对应用程序中的每个 URL 进行身份验证</li>
<li>生成一个登录表单</li>
<li>允许用户使用表单的username、password进行身份认证</li>
<li>允许用户使用 logout 注销</li>
<li>预防 CSRF 攻击</li>
<li>维持会话固定（Session Fixation）</li>
<li>集成安全报头（Security Header）<ol>
<li>X-Content-Type-Options</li>
<li>Cache Control - 缓存控制</li>
<li>X-XSS-Protection integration - 保护X-XSS一体化</li>
<li>X-Frame-Options integration to help prevent - 防止点击劫持</li>
</ol>
</li>
<li>与 Servlet API 集成<ol>
<li>HttpServletRequset#getRemoteUser()</li>
<li>HttpServletRequest#getUserPrincipal()</li>
<li>HttpServletRequest#isUserInRole(String)</li>
<li>HttpServletRequest#login(String,String)</li>
<li>HttpServletRequest#logout()</li>
</ol>
</li>
</ol>
<h2 id="二、HttpSecurity-配置"><a href="#二、HttpSecurity-配置" class="headerlink" title="二、HttpSecurity 配置"></a>二、HttpSecurity 配置</h2><p>在开启 Java 配置之后，会默认开启所有路径的验证、表单登录、退出支持等等操作，但是我们并没有提供配置，这是因为 WebSecurityConfigurerAdapter 提供了一个默认的 <code>configure(HttpSecurity http)</code> 配置，如下所示：</p>
<pre><code class="java">    /**
     * Override this method to configure the {@link HttpSecurity}. Typically subclasses
     * should not invoke this method by calling super as it may override their
     * configuration. The default configuration is:
     *
     * &lt;pre&gt;
     * http.authorizeRequests().anyRequest().authenticated().and().formLogin().and().httpBasic();
     * &lt;/pre&gt;
     *
     * @param http the {@link HttpSecurity} to modify
     * @throws Exception if an error occurs
     */
    // @formatter:off
    protected void configure(HttpSecurity http) throws Exception {
        logger.debug(&quot;Using default configure(HttpSecurity). If subclassed this will potentially override subclass configure(HttpSecurity).&quot;);

        http
            .authorizeRequests()
                .anyRequest().authenticated() // 配置对应用程序的所有请求都需要身份验证
                .and()
            .formLogin().and() // 开启表单登录
            .httpBasic();  // 允许使用 Http Basic 方式登录
    }</code></pre>
<h2 id="三、Java-配置和表单登录"><a href="#三、Java-配置和表单登录" class="headerlink" title="三、Java 配置和表单登录"></a>三、Java 配置和表单登录</h2><p>一般情况下，我们会使用自己定义的登录页面，而不是SpringSecurity默认提供的登录页面。因此，我们可以修改 HttpSecurity 的配置：</p>
<pre><code class="java">protected void configure(HttpSecurity http) throws Exception {
    http
        .authorizeRequests()
        .anyRequest().authenticated()
        .and()
        .formLogin()
            .loginPage(&quot;/login&quot;) // 指定登录页位置
            .permitAll();  // 允许所有用户访问基于表单登录关联的所有url权限
}</code></pre>
<h2 id="四、授权请求"><a href="#四、授权请求" class="headerlink" title="四、授权请求"></a>四、授权请求</h2><p>默认情况下， HttpSecurity选择拦截所有的请求，并且只要有身份认证即可访问。我们可以通过 <code>http.authorizeRequest()</code> 方法添加多个子类来指定 url 的自定义需求。</p>
<pre><code class="java">protected void configure(HttpSecurity http) throws Exception {
    http
        .authorizeRequests()    // 按照子类的顺序进行匹配
            .antMatcher(&quot;/resources/**&quot;,&quot;signup&quot;,&quot;/about&quot;).permitAll() // 允许指定路径无需认证
            .antMatcher(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)    // 指定路径需要 ADMIN 权限
            .antMatcher(&quot;/db/**&quot;).access(&quot;hasRole(&#39;ADMIN&#39;) and hasRole(&#39;DBA&#39;)&quot;) // 使用 hasRole 表达式，这样不需要 ROLE 前缀
            .anyRequest().authenticated() // 其他所有请求都需要身份验证
            .and()
        .formLogin()
            .loginPage(&quot;/login&quot;)
            .permitAll();
}</code></pre>
<h2 id="五、登出处理"><a href="#五、登出处理" class="headerlink" title="五、登出处理"></a>五、登出处理</h2><p>在使用 <code>WebSecurityConfigurerAdapter</code> 时，将会自动开启注销功能，访问 <code>/logout</code> 后会执行如下操作使用户注销：</p>
<ol>
<li>使用 Http Session 无效</li>
<li>清理任何与 RememberMe 相关的身份验证</li>
<li>清理 SecurityContextHolder</li>
<li>跳转到 “/login?logout”</li>
</ol>
<p>或者，也可以自定义注销需求：</p>
<pre><code class="java">protected void configure(HttpSecurity http) throws Exception {
    http
        .authorizeRequests()
            .antMatcher(&quot;/resources/**&quot;,&quot;signup&quot;,&quot;/about&quot;).permitAll()
            .antMatcher(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)
            .antMatcher(&quot;/db/**&quot;).access(&quot;hasRole(&#39;ADMIN&#39;) and hasRole(&#39;DBA&#39;)&quot;)
            .anyRequest().authenticated()
            .and()
        .formLogin()
            .loginPage(&quot;/login&quot;)
            .permitAll()
            .and()
        .logout()                                // 提供注销支持
            .logoutUrl(&quot;/my/logout&quot;)            // 触发注销操作的 url，如果开启了 CSRF保护，则此请求需要是POST
            .logoutSuccessUrl(&quot;/my/index&quot;)         // 注销后要重定向的URL，默认为 /login?logout
            .logoutSuccessHandler(logoutSuccessHandler)    // 自定义登出成功处理器
            .invalidateHttpSession(true)        // 在注销时是否需要使 HttpSession 无效
            .addLogoutHandler(logoutHandler)    // 添加登出处理器
            .deleteCookies(cookieNamesToClear);    // 注销成功时删除指定的 cookie，这是一种显式添加 CookieClearingLogoutHandler 的方式
}</code></pre>
<h3 id="5-1-LogoutHandler-登出处理器"><a href="#5-1-LogoutHandler-登出处理器" class="headerlink" title="5.1 LogoutHandler 登出处理器"></a>5.1 LogoutHandler 登出处理器</h3><p>LogoutHandler 实现能够参与注销处理的类，通过调用它们来执行必要的清理，且不会引发异常。各种实现如下：</p>
<ol>
<li>PersistentTokenBasedRememberMeServices</li>
<li>TokenBasedRememberMeServices</li>
<li>CookieClearingLogoutHandler</li>
<li>CsrfLogoutHandler</li>
<li>SecurityContextLogoutHandler</li>
</ol>
<p>以上处理器实现，大致能做到见名识义。</p>
<h3 id="5-2-LogoutSuccessHandler-登出成功处理器"><a href="#5-2-LogoutSuccessHandler-登出成功处理器" class="headerlink" title="5.2 LogoutSuccessHandler 登出成功处理器"></a>5.2 LogoutSuccessHandler 登出成功处理器</h3><p>与 LogoutHandler 类似，但是可能会引发异常。在 LogoutFilter 成功注销之后，LogoutSuccessHandler 会处理例如重定向或转发到适当的目标，具体实现如下：</p>
<ol>
<li>SimpleUrlLogoutSuccessHandler<ol>
<li>注销成功之后返回到指定 url，默认为 /login?logout</li>
</ol>
</li>
<li>HttpStatusReturningLogoutSuccessHandler<ol>
<li>允许在注销成功之后返回一个普通的 HTTP 状态码，而不是重定向至 URL</li>
</ol>
</li>
</ol>
<h3 id="5-3-其他的登出考虑"><a href="#5-3-其他的登出考虑" class="headerlink" title="5.3 其他的登出考虑"></a>5.3 其他的登出考虑</h3><ol>
<li>测试登录</li>
<li>csrf注意事项</li>
<li>单点登出</li>
</ol>
<h2 id="六、WebFlux-Security"><a href="#六、WebFlux-Security" class="headerlink" title="六、WebFlux Security"></a>六、WebFlux Security</h2><p>关于 Spring-WebFlux 具体是什么，可以详见 <a href="https://blog.csdn.net/get_set/article/details/79480233" target="_blank" rel="noopener">《Spring-WebFlux》</a>。</p>
<pre><code class="java">@EnableWebFluxSecurity
public class HelloWebfluxSecurityConfig {
    @Bean
    public SecurityWebFilterChain spirngSecurityFilterChain(ServerHttpSecurity http) {
        http
            .authorizeExchange()
                .anyExchange().authenticated()
                .and()
            .httpBasic()
                .and()
            .formLogin();
    }
}</code></pre>
<h2 id="七、OAuth-2-0"><a href="#七、OAuth-2-0" class="headerlink" title="七、OAuth 2.0"></a>七、OAuth 2.0</h2><p>TODO：<a href="https://docs.spring.io/spring-security/site/docs/5.0.5.RELEASE/reference/htmlsingle/#jc-oauth2login" target="_blank" rel="noopener">@see</a></p>
<h2 id="八、Authentication-认证"><a href="#八、Authentication-认证" class="headerlink" title="八、Authentication 认证"></a>八、Authentication 认证</h2><h3 id="8-1-内存认证-In-Memory-Authentication"><a href="#8-1-内存认证-In-Memory-Authentication" class="headerlink" title="8.1 内存认证(In-Memory Authentication)"></a>8.1 内存认证(In-Memory Authentication)</h3><p>直接在内存中配置多个用户，示例如下：</p>
<pre><code class="java">@Bean
public UserDetailsService userDetailsService() throws Exception {
    UserBuilder user = User.withDefaultPasswordEncoder();
    InMemoryUserDetailsManager manager = new InMemoryUserDetailsManager();
    manager.createUser(users.username(&quot;user&quot;).password(&quot;password&quot;).roles(&quot;USER&quot;).build());
    manager.createUser(users.username(&quot;admin&quot;).password(&quot;password&quot;).roles(&quot;ADMIN&quot;).build());
    return manager;
}</code></pre>
<h3 id="8-2-JDBC认证"><a href="#8-2-JDBC认证" class="headerlink" title="8.2 JDBC认证"></a>8.2 JDBC认证</h3><pre><code class="java">@Autowired
private DataSource dataSource;

@Autowired
public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {
    UserBuilder user = User.withDefaultPasswordEncoder();
    auth
        .jdbcAuthentication()
        .dataSource(dataSource)
        .withDefaultSchema()
        .withUser(users.username(&quot;user&quot;).password(&quot;password&quot;).roles(&quot;USER&quot;))
        .withUser(users.username(&quot;admin&quot;).password(&quot;password&quot;).roles(&quot;ADMIN&quot;));
}</code></pre>
<blockquote>
<p>其他如：LDAP认证、AuthenticationProvider、UseDetailsService不再赘述。</p>
</blockquote>
<h2 id="九、多重-HttpSecurity-配置"><a href="#九、多重-HttpSecurity-配置" class="headerlink" title="九、多重 HttpSecurity 配置"></a>九、多重 HttpSecurity 配置</h2><pre><code class="java">@EnableWebSecurity
public class MultiHttpSecurityConfig {
    @Configuration
    @Order(1)
    public static class ApiWebSecurityConfigurationAdapter extends WebSecurityConfigurerAdapter {
        protected void configure(HttpSecurity http) throws Exception {
            http
                .antMatch(&quot;/api/**&quot;)
                .authorizeRequests()
                    .anyRequest().hasRole(&quot;ADMIN&quot;)
                    .and()
                .httpBasic();
        }
    }

    @Configuration
    public static class FormLoginWebSecurityConfigurerAdapter extends WebSecurityConfigurerAdapter {

        @Override
        protected void configure(HttpSecurity http) throws Exception {
            http
                .authorizeRequests()
                    .anyRequest().authenticated()
                    .and()
                .formLogin();
        }
    }
}</code></pre>
<p>如果请求的url以 /api/ 开头，将使用 <code>ApiWebSecurityConfigurationAdapter</code> 配置。其他请求使用 <code>FormLoginWebSecurityConfigurerAdapter</code> 配置。</p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">koral</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://luokaiii.github.io/2019/07/18/读书笔记/《SpringSecurity》/2.配置//index.html">http://luokaiii.github.io/2019/07/18/读书笔记/《SpringSecurity》/2.配置/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://luokaiii.github.io">凯</a>！</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Spring-Security/index.html">Spring Security</a></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2019/07/18/读书笔记/《SpringSecurity》/3.方法级别的安全配置/index.html"><i class="fa fa-chevron-left">  </i><span>《Spring Security》第三章 基于方法级别的安全配置</span></a></div><div class="next-post pull-right"><a href="/2019/07/18/读书笔记/《SpringSecurity》/1.序言/index.html"><span>《Spring Security》第一章 SpringSecurity 介绍</span><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2020 By koral</div><div class="framework-info"><span>驱动 - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.7.0"></script><script src="/js/fancybox.js?version=1.7.0"></script><script src="/js/sidebar.js?version=1.7.0"></script><script src="/js/copy.js?version=1.7.0"></script><script src="/js/fireworks.js?version=1.7.0"></script><script src="/js/transition.js?version=1.7.0"></script><script src="/js/scroll.js?version=1.7.0"></script><script src="/js/head.js?version=1.7.0"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script></body></html>