<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="罗凯的博客" type="application/atom+xml" />






<meta name="description" content="根据踏瑞云的权限架构，所认知的SpringSecurity一、 实体类1.1 CoreUser用于存储用户的基本信息，如用户名、密码、真实姓名、手机号、邮箱、是否是管理员、是否禁用、学号、备注、学校备注、组织、权限集合 1.2 Organization组织，包含编号、管理员备注、产品、是否禁用 1.3 OrganizationMemeber组织成员，包含 用户Id、组织Id、组织权限role 1.">
<meta name="keywords" content="帅">
<meta property="og:type" content="article">
<meta property="og:title" content="罗凯的博客">
<meta property="og:url" content="http://luokaiii.github.io/2019/07/01/SpringBoot/SpringSecurity/index.html">
<meta property="og:site_name" content="罗凯的博客">
<meta property="og:description" content="根据踏瑞云的权限架构，所认知的SpringSecurity一、 实体类1.1 CoreUser用于存储用户的基本信息，如用户名、密码、真实姓名、手机号、邮箱、是否是管理员、是否禁用、学号、备注、学校备注、组织、权限集合 1.2 Organization组织，包含编号、管理员备注、产品、是否禁用 1.3 OrganizationMemeber组织成员，包含 用户Id、组织Id、组织权限role 1.">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2019-07-01T02:49:01.373Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="罗凯的博客">
<meta name="twitter:description" content="根据踏瑞云的权限架构，所认知的SpringSecurity一、 实体类1.1 CoreUser用于存储用户的基本信息，如用户名、密码、真实姓名、手机号、邮箱、是否是管理员、是否禁用、学号、备注、学校备注、组织、权限集合 1.2 Organization组织，包含编号、管理员备注、产品、是否禁用 1.3 OrganizationMemeber组织成员，包含 用户Id、组织Id、组织权限role 1.">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"right","display":"always","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":5},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://luokaiii.github.io/2019/07/01/SpringBoot/SpringSecurity/"/>





  <title> | 罗凯的博客</title>
  








<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">罗凯的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">l u o k a i</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-schedule">
          <a href="/schedule" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            日程表
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            站点地图
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://luokaiii.github.io/2019/07/01/SpringBoot/SpringSecurity/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="koral">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://upload-images.jianshu.io/upload_images/13603359-6aa0d85db5eaa03e.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="罗凯的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline"></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-07-01T10:49:01+08:00">
                2019-07-01
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="根据踏瑞云的权限架构，所认知的SpringSecurity"><a href="#根据踏瑞云的权限架构，所认知的SpringSecurity" class="headerlink" title="根据踏瑞云的权限架构，所认知的SpringSecurity"></a>根据踏瑞云的权限架构，所认知的SpringSecurity</h1><h2 id="一、-实体类"><a href="#一、-实体类" class="headerlink" title="一、 实体类"></a>一、 实体类</h2><h2 id="1-1-CoreUser"><a href="#1-1-CoreUser" class="headerlink" title="1.1 CoreUser"></a>1.1 CoreUser</h2><pre><code>用于存储用户的基本信息，如用户名、密码、真实姓名、手机号、邮箱、是否是管理员、是否禁用、学号、备注、学校备注、组织、权限集合
</code></pre><h2 id="1-2-Organization"><a href="#1-2-Organization" class="headerlink" title="1.2 Organization"></a>1.2 Organization</h2><pre><code>组织，包含编号、管理员备注、产品、是否禁用
</code></pre><h2 id="1-3-OrganizationMemeber"><a href="#1-3-OrganizationMemeber" class="headerlink" title="1.3 OrganizationMemeber"></a>1.3 OrganizationMemeber</h2><pre><code>组织成员，包含 用户Id、组织Id、组织权限role
</code></pre><h2 id="1-4-OrganizationMemeberRole"><a href="#1-4-OrganizationMemeberRole" class="headerlink" title="1.4 OrganizationMemeberRole"></a>1.4 OrganizationMemeberRole</h2><pre><code>组织权限：Administrator 管理员、Teacher 教师、Student 学生
</code></pre><h2 id="1-5-OrganizationAuthorization"><a href="#1-5-OrganizationAuthorization" class="headerlink" title="1.5 OrganizationAuthorization"></a>1.5 OrganizationAuthorization</h2><pre><code>组织授权： 授权Id、过期时间、授权的课程集合
</code></pre><h2 id="二、权限类"><a href="#二、权限类" class="headerlink" title="二、权限类"></a>二、权限类</h2><h2 id="2-1-CoreUserDetails"><a href="#2-1-CoreUserDetails" class="headerlink" title="2.1 CoreUserDetails"></a>2.1 CoreUserDetails</h2><pre><code>该类包含了 CoreUser 的信息，和权限的方法，因此需要继承 CoreUser 类和实现 CoreUserDetails 类：UserDetails extends CoreUser implements UserDetails
即：CoreUserDetails = CoreUser用户信息 + UserDetails的方法 + Organization组织 + OrganizationMember组织内的权限 + OrganizationAuthorization组织授权课程
新增参数：
    organizations：List&lt;Organization&gt;  组织集合
    loginName : String  用户名
    organizationMemebers：List&lt;OrganizationMember&gt;    成员与组织对应的权限
    organizationAuthorizations： List&lt;OrganizationAuthorization&gt;    授权内容
三个构造方法：
    1. 无参构造
    2. 含有 登录名 loginName 的构造函数
    3. 含有 组织集合、组织授权集合、登录名 的构造函数
实现了 UserDetails 的 7 个方法
    getAuthorities()        得到权限集合
    getPassword()           密码
    getUsername()           用户名
    isAccountNonExpired()   账户是否未过期
    isAccountNonLocked()    账户是否未被锁
    isCredentialsNonExpired()   证书是否未过期
    isEnabled()             是否可用
</code></pre><h2 id="2-2-LoginUserService"><a href="#2-2-LoginUserService" class="headerlink" title="2.2 LoginUserService"></a>2.2 LoginUserService</h2><pre><code>用户登录的 Service，实现 UserDetailsService 类的 UserDetails loadUserByUsername(String loginName) 方法，该方法返回 UserDetails，因此需要 CoreUserDetails 实现 CoreUserDetails 类，来将 CoreUserDetails 返回。
在实现的方法中：
    1. 通过 loginName (手机号、邮箱、用户名) 查询数据库中是否存在该用户 --&gt; 得到 CoreUser
    2. 构造一个 带 loginName 的 CoreUserDetails，将 CoreUser 注入 CoreUserDetails &lt;&lt;**1**&gt;&gt;
    3. 查询用户对应的 组织权限(memberList)，并添加到 CoreUserDetails，即 coreUserDetails.setOrganizationMembers(memberList) &lt;&lt;**2**&gt;&gt;
    4. 提取 用户组织权限 中的所有组织Id，得到所有的组织信息(organizations)，添加到 CoreUserDetails，即coreUserDetails.setOrganizations(organizations) &lt;&lt;**3**&gt;&gt;
    5. 通过 组织Id ，得到组织下所有的授权信息(authorizations)，添加到 CoreUserDetails，即 coreUserDetails.setOrganizationAuthorizations(authorizations) &lt;&lt;**4**&gt;&gt;
    6. 最后，将注入之后的 coreUserDetails 返回
</code></pre><h2 id="2-3-MethodSecurityConfig"><a href="#2-3-MethodSecurityConfig" class="headerlink" title="2.3 MethodSecurityConfig"></a>2.3 MethodSecurityConfig</h2><blockquote>
<p>开启方法级别的权限验证。<br>    // @EnableGlocalMethodSecurity()在任何 @Configuration 实例上使用，用来开启基于注解的安全验证<br>    //      prePostEnabled = true ； 表示在方法执行之前进行验证<br>    @EnableGlobalMethodSecurity(prePostEnabled = true)<br>    @Configuration<br>    // GlobalMethodSecurityConfiguration 表示基于方法的安全验证<br>    public class MethodSecurityConfig extends GlobalMethodSecurityConfiguration {</p>
</blockquote>
<pre><code>    @Override
    protected MethodSecurityExpressionHandler createExpressionHandler() {
        // 返回一个 表达式验证的方法级控制器
        return new ResourceMethodSecurityExpressionHandler();
    }
}
</code></pre><h2 id="2-4-ResourceMethodSecurityExpressionHandler"><a href="#2-4-ResourceMethodSecurityExpressionHandler" class="headerlink" title="2.4 ResourceMethodSecurityExpressionHandler"></a>2.4 ResourceMethodSecurityExpressionHandler</h2><pre><code>实现 DefaultMethodSecurityExpressionHandler 控制器的 createSecurityExpressionRoot 方法，重写ResourceMethodSecurityExpressionRoot

public class ResourceMethodSecurityExpressionHandler extends DefaultMethodSecurityExpressionHandler {

    private AuthenticationTrustResolver trustResolver =
            new AuthenticationTrustResolverImpl();

    @Override
    protected MethodSecurityExpressionOperations createSecurityExpressionRoot(Authentication authentication, MethodInvocation invocation) {
        ResourceMethodSecurityExpressionRoot root =
                new ResourceMethodSecurityExpressionRoot(authentication);
        root.setPermissionEvaluator(getPermissionEvaluator());
        root.setTrustResolver(this.trustResolver);
        root.setRoleHierarchy(getRoleHierarchy());
        return root;
    }
}
</code></pre><h2 id="2-5-ResourceMethodSecurityExpressionRoot"><a href="#2-5-ResourceMethodSecurityExpressionRoot" class="headerlink" title="2.5 ResourceMethodSecurityExpressionRoot"></a>2.5 ResourceMethodSecurityExpressionRoot</h2><pre><code>自定义 MethodSecurity 的表达式，eg：

public class ResourceMethodSecurityExpressionRoot extends SecurityExpressionRoot implements MethodSecurityExpressionOperations {
    private static final Logger logger = LoggerFactory.getLogger(ResourceMethodSecurityExpressionRoot.class);
    private Object filterObject;
    private Object returnObject;
    private Object target;
    public ResourceMethodSecurityExpressionRoot(Authentication authentication) {
        super(authentication);
    }
    // 用来在 @PreAuthorize 注解中使用的方法
    public boolean canReadCourse(String courseId) {
        logger.debug(&quot;method params courseId : {}&quot;, courseId);
        logger.debug(&quot;current principal {}&quot;, getPrincipal());
        return true;
    }
    /** setter and getter */
}
</code></pre><h1 id="三、大致的流程："><a href="#三、大致的流程：" class="headerlink" title="三、大致的流程："></a>三、大致的流程：</h1><pre><code>1. 用户登录，判定用户名密码是否正确，登录成功此时会将登录名交给 UserSetailsService
2. 在 loadUserByUsername(String loginName) 方法中，填充用户的组织等信息，并返回
    此时的用户已经通过 验证了
2. 在请求资源时，在需要判定的方法上加上注解：@PreAuthorize(&quot;hasRole(&#39;Administrator&#39;)&quot;) 
</code></pre><h1 id="四、常用的注解"><a href="#四、常用的注解" class="headerlink" title="四、常用的注解"></a>四、常用的注解</h1><pre><code>access()                    SpringEL表达式结果为true时可访问
anonymous()                 匿名可访问
denyAll()                   用户不可访问
fullyAuthenticated()        用户完全认证可访问（非Remeber me下自动登录）
hasAnyAuthority(String...)  参数中任意 权限 的用户可访问
hasAnyRole(String...)       参数中任意 角色 的用户可访问
hasAuthority(String)        某一 权限 的用户可访问
hasRole(String)             某一 角色 的用户可访问
permitAll()                 所有用户可访问
rememberMe()                允许通过 remeber me 登录的用户访问
hasIpAddress(String)        用户来自参数中的ip时可访问
</code></pre>
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/07/01/SpringBoot/Sso单点登录/" rel="next" title="">
                <i class="fa fa-chevron-left"></i> 
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/07/01/SpringSecurity/1.初识SpringSecurity/" rel="prev" title="">
                 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="https://upload-images.jianshu.io/upload_images/13603359-6aa0d85db5eaa03e.gif"
                alt="koral" />
            
              <p class="site-author-name" itemprop="name">koral</p>
              <p class="site-description motion-element" itemprop="description">如果我16岁，我可以悄悄的说我好喜欢你，如果我26岁，我可以大声告诉你我很爱你，可惜我6岁，我什么都给不了你，我还要上小学。</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">232</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">21</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">20</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#根据踏瑞云的权限架构，所认知的SpringSecurity"><span class="nav-number">1.</span> <span class="nav-text">根据踏瑞云的权限架构，所认知的SpringSecurity</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#一、-实体类"><span class="nav-number">1.1.</span> <span class="nav-text">一、 实体类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-CoreUser"><span class="nav-number">1.2.</span> <span class="nav-text">1.1 CoreUser</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-Organization"><span class="nav-number">1.3.</span> <span class="nav-text">1.2 Organization</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-3-OrganizationMemeber"><span class="nav-number">1.4.</span> <span class="nav-text">1.3 OrganizationMemeber</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-4-OrganizationMemeberRole"><span class="nav-number">1.5.</span> <span class="nav-text">1.4 OrganizationMemeberRole</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-5-OrganizationAuthorization"><span class="nav-number">1.6.</span> <span class="nav-text">1.5 OrganizationAuthorization</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二、权限类"><span class="nav-number">1.7.</span> <span class="nav-text">二、权限类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-1-CoreUserDetails"><span class="nav-number">1.8.</span> <span class="nav-text">2.1 CoreUserDetails</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-2-LoginUserService"><span class="nav-number">1.9.</span> <span class="nav-text">2.2 LoginUserService</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-3-MethodSecurityConfig"><span class="nav-number">1.10.</span> <span class="nav-text">2.3 MethodSecurityConfig</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-4-ResourceMethodSecurityExpressionHandler"><span class="nav-number">1.11.</span> <span class="nav-text">2.4 ResourceMethodSecurityExpressionHandler</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-5-ResourceMethodSecurityExpressionRoot"><span class="nav-number">1.12.</span> <span class="nav-text">2.5 ResourceMethodSecurityExpressionRoot</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#三、大致的流程："><span class="nav-number">2.</span> <span class="nav-text">三、大致的流程：</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#四、常用的注解"><span class="nav-number">3.</span> <span class="nav-text">四、常用的注解</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">koral</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>





        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
